{"version":3,"file":"component---src-mdx-em-algorithm-interactive-mdx-28f005748c23a77cd37a.js","mappings":"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","sources":["webpack://robinlinacre/./node_modules/@robinl/unsupervised-probabalistic-data-matching-using-the-expec/146f352f1166f0d1@2202.js","webpack://robinlinacre/./node_modules/@robinl/unsupervised-probabalistic-data-matching-using-the-expec/7764a40fe6b83ca1@437.js","webpack://robinlinacre/./node_modules/@robinl/unsupervised-probabalistic-data-matching-using-the-expec/20c8b34dc8ac7754@1041.js","webpack://robinlinacre/./src/mdx/em_algorithm_interactive.mdx","webpack://robinlinacre/./src/components/ObservableNotebook.jsx","webpack://robinlinacre/./src/hooks/use-site-metadata.jsx","webpack://robinlinacre/./src/components/SEO.jsx"],"sourcesContent":["// https://observablehq.com/@robinl/inputs@2202\nfunction _2(md){return(\nmd`| <h3>Friends & Family:</h3>  |   |\n|---|---|\n| **[@mbostock/form-input](/@mbostock/form-input)**  | Fully custom forms, combining inputs into a single reactive cell. |\n| **[@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)**  | Color scheme and interoplation pickers. |\n| **[@mootari/range-slider](https://observablehq.com/@mootari/range-slider)**  |  True range sliders, setting both a minimum and maximum value. |\n| **[@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders)** | Data-driven range sliders, displaying a distribution histogram of the underlying data. |\n| **[@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)** | Another data-driven range slider option. |\n| **[@mootariâ€™s 2D Slider](https://observablehq.com/d/98bbb19bf9e859ee)** | Two dimensional sliders, exploring discrete points on a plane. |\n| **[@yurivish/ternary-slider](/@yurivish/ternary-slider)** | Nifty ternary plot inputs, describing the percentages of a whole composed of exactly three things. |\n\n\n<br>*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*`\n)}\n\nfunction _sliderDemo(md){return(\nmd`---\n## Sliders\n\n~~~js\nimport {slider} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _a(slider){return(\nslider()\n)}\n\nfunction _a1(slider){return(\nslider({\n  min: 0, \n  max: 1, \n  step: 0.01, \n  format: \".0%\",\n  description: \"Zero to one, formatted as a percentage\"\n})\n)}\n\nfunction _a1_1(slider){return(\nslider({\n  min: 0, \n  max: 1, \n  step: 0.01, \n  format: v => `${Math.round(100 * v)} per cent`,\n  description: \"Zero to one, formatted with a custom function\"\n})\n)}\n\nfunction _a2(slider){return(\nslider({\n  min: 0,\n  max: 1e9,\n  step: 1000,\n  value: 3250000,\n  format: \",\",\n  description:\n    \"Zero to one billion, in steps of one thousand, formatted as a (US) number\"\n})\n)}\n\nfunction _a3(slider){return(\nslider({\n  min: 0, \n  max: 100, \n  step: 1, \n  value: 10, \n  title: \"Integers\", \n  description: \"Integers from zero through 100\"\n})\n)}\n\nfunction _a4(slider){return(\nslider({\n  min: 0.9,\n  max: 1.1,\n  precision: 3,\n  description: \"A high precision slider example\"\n})\n)}\n\nfunction _a5(slider){return(\nslider({\n  min: 0.9,\n  max: 1.1,\n  precision: 3,\n  submit: true,\n  description: \"The same as a4, but only changes value on submit\"\n})\n)}\n\nfunction _11(md){return(\nmd`More [fancy slider techniques](https://beta.observablehq.com/@mootari/prime-numbers-slider).`\n)}\n\nfunction _slider(input){return(\nfunction slider(config = {}) {\n  let {\n    min = 0, max = 1, value = (max + min) / 2, step = \"any\", precision = 2,\n    title, description, getValue, format, display, submit,\n  } = typeof config === \"number\" ? {value: config} : config;\n  precision = Math.pow(10, precision);\n  if (!getValue) getValue = input => Math.round(input.valueAsNumber * precision) / precision;\n  return input({\n    type: \"range\", title, description, submit, format, display,\n    attributes: {min, max, step, value},\n    getValue\n  });\n}\n)}\n\nfunction _buttonDemo(md){return(\nmd`---\n## Buttons\n\n~~~js\nimport {button} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _b(button){return(\nbutton()\n)}\n\nfunction _15(b)\n{\n  b\n  return !this;\n}\n\n\nfunction _b1(button){return(\nbutton({value: \"Click me\", description: \"We use a reference to the button below to record the time you pressed it.\"})\n)}\n\nfunction _17(b1)\n{\n  b1;\n  return new Date(Date.now()).toUTCString()\n}\n\n\nfunction _button(input){return(\nfunction button(config = {}) {\n  const {\n    value = \"Ok\", title, description, disabled\n  } = typeof config === \"string\" ? {value: config} : config;\n  const form = input({\n    type: \"button\", title, description,\n    attributes: {disabled, value}\n  });\n  form.output.remove();\n  return form;\n}\n)}\n\nfunction _selectDemo(md){return(\nmd`---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _dd(select){return(\nselect([\"Spring\", \"Summer\", \"Fall\", \"Winter\"])\n)}\n\nfunction _21(dd){return(\ndd\n)}\n\nfunction _dd1(select){return(\nselect({\n  title: \"Stooges\",\n  description: \"Please pick your favorite stooge.\",\n  options: [\"Curly\", \"Larry\", \"Moe\", \"Shemp\"],\n  value: \"Moe\"\n})\n)}\n\nfunction _23(dd1){return(\ndd1\n)}\n\nfunction _dd2(select){return(\nselect({\n  description: \"As a child, which vegetables did you refuse to eat?\",\n  options: [\"Spinach\", \"Broccoli\", \"Brussels Sprouts\", \"Cauliflower\", \"Kale\", \"Turnips\", \"Green Beans\", \"Asparagus\"],\n  multiple: true\n})\n)}\n\nfunction _25(dd2){return(\ndd2\n)}\n\nfunction _dd3(select)\n{\n  const dd3 = select({\n    title: \"How are you feeling today?\",\n    options: [\n      { label: \"ðŸ¤·\", value: \"shrug\" },\n      { label: \"ðŸ˜‚\", value: \"tears-of-joy\" },\n      { label: \"ðŸ˜\", value: \"loving-it\" },\n      { label: \"ðŸ¤”\", value: \"hmmm\" },\n      { label: \"ðŸ˜±\", value: \"yikes\" },\n      { label: \"ðŸ˜ˆ\", value: \"mischievous\" },\n      { label: \"ðŸ’©\", value: \"poo\" }\n    ],\n    value: \"hmmm\"\n  });\n  dd3.input.style.fontSize = \"30px\";\n  dd3.input.style.marginTop = \"8px\";\n  return dd3;\n}\n\n\nfunction _27(dd3){return(\ndd3\n)}\n\nfunction _select(input,html){return(\nfunction select(config = {}) {\n  let {\n    value: formValue,\n    title,\n    description,\n    submit,\n    multiple,\n    size,\n    options\n  } = Array.isArray(config) ? {options: config} : config;\n  options = options.map(\n    o => (typeof o === \"object\" ? o : { value: o, label: o })\n  );\n  const form = input({\n    type: \"select\",\n    title,\n    description,\n    submit,\n    getValue: input => {\n      const selected = Array.prototype.filter\n        .call(input.options, i => i.selected)\n        .map(i => i.value);\n      return multiple ? selected : selected[0];\n    },\n    form: html`\n      <form>\n        <select name=\"input\" ${\n          multiple ? `multiple size=\"${size || options.length}\"` : \"\"\n        }>\n          ${options.map(({ value, label }) => Object.assign(html`<option>`, {\n              value,\n              selected: Array.isArray(formValue)\n                ? formValue.includes(value)\n                : formValue === value,\n              textContent: label\n            }))}\n        </select>\n      </form>\n    `\n  });\n  form.output.remove();\n  return form;\n}\n)}\n\nfunction _autoSelectDemo(md){return(\nmd`---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTMLâ€™s datalist element.* \n\n~~~js\nimport {autoSelect} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _as(autoSelect,usa){return(\nautoSelect({\n  options: usa.objects.states.geometries.map(d => d.properties.name),\n  placeholder: \"Search for a US state . . .\"\n})\n)}\n\nfunction _31(as){return(\nas\n)}\n\nfunction _autoSelect(input,html){return(\nfunction autoSelect(config = {}) {\n  const {\n    value,\n    title,\n    description,\n    autocomplete = \"off\",\n    placeholder,\n    size,\n    options,\n    list = \"options\"\n  } = Array.isArray(config) ? {options: config} : config;\n\n  const optionsSet = new Set(options);\n\n  const form = input({\n    type: \"text\",\n    title,\n    description,\n    action: fm => {\n      fm.value = fm.input.value = value || \"\";\n      fm.onsubmit = e => e.preventDefault();\n      fm.input.oninput = function(e) {\n        e.stopPropagation();\n        fm.value = fm.input.value;\n        if (optionsSet.has(fm.input.value))\n          fm.dispatchEvent(new CustomEvent(\"input\"));\n      };\n    },\n    form: html`\n      <form>\n         <input name=\"input\" type=\"text\" autocomplete=\"off\" \n          placeholder=\"${placeholder}\" style=\"font-size: 1em;\" list=${list}>\n          <datalist id=\"${list}\">\n              ${options.map(d =>\n                Object.assign(html`<option>`, {\n                  value: d\n                })\n              )}\n          </datalist>\n      </form>\n      `\n  });\n\n  form.output.remove();\n  return form;\n}\n)}\n\nfunction _colorDemo(md){return(\nmd`---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`\"#bada55\"\\` \n\n~~~js\nimport {color} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _c(color){return(\ncolor()\n)}\n\nfunction _c1(color){return(\ncolor({\n  value: \"#0000ff\",\n  title: \"Background Color\",\n  description: \"This color picker starts out blue\"\n})\n)}\n\nfunction _color(input){return(\nfunction color(config = {}) {\n  const {\n    value = \"#000000\", title, description, submit, display\n  } = typeof config === \"string\" ? {value: config} : config;\n  const form = input({\n    type: \"color\", title, description, submit, display,\n    attributes: {value}\n  });\n  if (title || description) form.input.style.margin = \"5px 0\";\n  return form;\n}\n)}\n\nfunction _coordinatesDemo(md){return(\nmd` ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _coords1(coordinates){return(\ncoordinates()\n)}\n\nfunction _39(coords1){return(\ncoords1\n)}\n\nfunction _coords2(coordinates){return(\ncoordinates({\n  title: \"Hometown\",\n  description: \"Enter the coordinates of where you were born\",\n  value: [-122.27, 37.87],\n  submit: true\n})\n)}\n\nfunction _41(coords2){return(\ncoords2\n)}\n\nfunction _coordinates(html,input){return(\nfunction coordinates(config = {}) {\n  const {\n    value = [], title, description, submit\n  } = Array.isArray(config) ? {value: config} : config;\n  let [lon, lat] = value;\n  lon = lon != null ? lon : \"\";\n  lat = lat != null ? lat : \"\";\n  const lonEl = html`<input name=\"input\" type=\"number\" autocomplete=\"off\" min=\"-180\" max=\"180\" style=\"width: 80px;\" step=\"any\" value=\"${lon}\" />`;\n  const latEl = html`<input name=\"input\" type=\"number\" autocomplete=\"off\" min=\"-90\" max=\"90\" style=\"width: 80px;\" step=\"any\" value=\"${lat}\" />`;\n  const form = input({\n    type: \"coordinates\",\n    title,\n    description,\n    submit,\n    getValue: () => {\n      const lon = lonEl.valueAsNumber;\n      const lat = latEl.valueAsNumber;\n      return [isNaN(lon) ? null : lon, isNaN(lat) ? null : lat];\n    },\n    form: html`\n      <form>\n        <label style=\"display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 0;\">\n          <span style=\"display: inline-block; width: 70px;\">Longitude:</span>\n          ${lonEl}\n        </label>\n        <br>\n        <label style=\"display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;\">\n          <span style=\"display: inline-block; width: 70px;\">Latitude:</span>\n          ${latEl}\n        </label>\n      </form>\n    `\n  });\n  form.output.remove();\n  return form;\n}\n)}\n\nfunction _worldMapCoordinatesDemo(md){return(\nmd` ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _worldMap1(worldMapCoordinates){return(\nworldMapCoordinates([-122.27, 37.87])\n)}\n\nfunction _45(worldMap1){return(\nworldMap1\n)}\n\nfunction _worldMapCoordinates(html,DOM,d3geo,graticule,land,countries,input){return(\nfunction worldMapCoordinates(config = {}) {\n  const {\n    value = [], title, description, width = 400\n  } = Array.isArray(config) ? {value: config} : config;\n  const height = Math.round((210 / 400) * width);\n  let [lon, lat] = value;\n  lon = lon != null ? lon : null;\n  lat = lat != null ? lat : null;\n  const formEl = html`<form style=\"width: ${width}px;\"></form>`;\n  const context = DOM.context2d(width, height);\n  const canvas = context.canvas;\n  canvas.style.margin = \"10px 0 0\";\n  const projection = d3geo\n    .geoNaturalEarth1()\n    .precision(0.1)\n    .fitSize([width, height], { type: \"Sphere\" });\n  const path = d3geo.geoPath(projection, context).pointRadius(2.5);\n  formEl.append(canvas);\n\n  function draw() {\n    context.fillStyle = \"#fff\";\n    context.fillRect(0, 0, width, height);\n    context.beginPath();\n    path(graticule);\n    context.lineWidth = 0.35;\n    context.strokeStyle = `#ddd`;\n    context.stroke();\n    context.beginPath();\n    path(land);\n    context.fillStyle = `#f4f4f4`;\n    context.fill();\n    context.beginPath();\n    path(countries);\n    context.strokeStyle = `#aaa`;\n    context.stroke();\n    if (lon != null && lat != null) {\n      const pointPath = { type: \"MultiPoint\", coordinates: [[lon, lat]] };\n      context.beginPath();\n      path(pointPath);\n      context.fillStyle = `#f00`;\n      context.fill();\n    }\n  }\n\n  canvas.onclick = function(ev) {\n    const { offsetX, offsetY } = ev;\n    var coords = projection.invert([offsetX, offsetY]);\n    lon = +coords[0].toFixed(2);\n    lat = +coords[1].toFixed(2);\n    draw();\n    canvas.dispatchEvent(new CustomEvent(\"input\", { bubbles: true }));\n  };\n\n  draw();\n\n  const form = input({\n    type: \"worldMapCoordinates\",\n    title,\n    description,\n    display: v =>\n      html`<div style=\"position: absolute; width: ${width}px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;\">\n            <span style=\"color: #777;\">Longitude:</span> ${lon != null ? lon : \"\"}\n            &nbsp; &nbsp; \n            <span style=\"color: #777;\">Latitude:</span> ${lat != null ? lat : \"\"} \n          </div>`,\n    getValue: () => [lon != null ? lon : null, lat != null ? lat : null],\n    form: formEl\n  });\n  return form;\n}\n)}\n\nfunction _usaMapCoordinatesDemo(md){return(\nmd` ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _usaMap1(usaMapCoordinates){return(\nusaMapCoordinates([-122.27, 37.87])\n)}\n\nfunction _49(usaMap1){return(\nusaMap1\n)}\n\nfunction _usaMap2(usaMapCoordinates){return(\nusaMapCoordinates({\n  title: \"A Mini Map\",\n  description: \"Defaults to New York City\",\n  width: 200,\n  value: [-74, 40.71]\n})\n)}\n\nfunction _51(usaMap2){return(\nusaMap2\n)}\n\nfunction _usaMapCoordinates(html,DOM,d3geo,nation,states,input){return(\nfunction usaMapCoordinates(config = {}) {\n  const {\n    value = [], title, description, width = 400\n  } = Array.isArray(config) ? {value: config} : config;\n  const scale = width / 960;\n  const height = scale * 600;\n  let [lon, lat] = value;\n  lon = lon != null ? lon : null;\n  lat = lat != null ? lat : null;\n  const formEl = html`<form style=\"width: ${width}px;\"></form>`;\n  const context = DOM.context2d(width, height);\n  const canvas = context.canvas;\n  canvas.style.margin = \"5px 0 0\";\n  const projection = d3geo\n    .geoAlbersUsa()\n    .scale(1280)\n    .translate([480, 300]);\n  const path = d3geo\n    .geoPath()\n    .context(context)\n    .pointRadius(2.5 / scale);\n  formEl.append(canvas);\n\n  function draw() {\n    context.clearRect(0, 0, width, height);\n    context.save();\n    context.scale(scale, scale);\n    context.lineWidth = 0.35 / scale;\n    context.beginPath();\n    path(nation);\n    context.fillStyle = `#f4f4f4`;\n    context.fill();\n    context.beginPath();\n    path(states);\n    context.strokeStyle = `#aaa`;\n    context.stroke();\n    if (lon != null && lat != null) {\n      const pointPath = {\n        type: \"MultiPoint\",\n        coordinates: [projection([lon, lat])]\n      };\n      context.beginPath();\n      path(pointPath);\n      context.fillStyle = `#f00`;\n      context.fill();\n    }\n    context.restore();\n  }\n\n  canvas.onclick = function(ev) {\n    const { offsetX, offsetY } = ev;\n    var coords = projection.invert([offsetX / scale, offsetY / scale]);\n    lon = +coords[0].toFixed(2);\n    lat = +coords[1].toFixed(2);\n    draw();\n    canvas.dispatchEvent(new CustomEvent(\"input\", { bubbles: true }));\n  };\n\n  draw();\n\n  const form = input({\n    type: \"worldMapCoordinates\",\n    title,\n    description,\n    display: v =>\n      html`<div style=\"position: absolute; width: ${width}px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;\">\n            <span style=\"color: #777;\">Longitude:</span> ${lon != null ? lon : \"\"}\n            &nbsp; &nbsp; \n            <span style=\"color: #777;\">Latitude:</span> ${lat != null ? lat : \"\"} \n          </div>`,\n    getValue: () => [lon != null ? lon : null, lat != null ? lat : null],\n    form: formEl\n  });\n  return form;\n}\n)}\n\nfunction _dateDemo(md){return(\nmd` ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`\"2016-11-08\"\\` \n\n~~~js\nimport {date} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _d(date){return(\ndate()\n)}\n\nfunction _d1(date){return(\ndate({\n  title: \"2017\", \n  min: \"2017-01-01\",\n  max: \"2017-12-31\",\n  value: \"2017-01-01\",\n  description: \"Only dates within the 2017 calendar year are allowed\"\n})\n)}\n\nfunction _date(input){return(\nfunction date(config = {}) {\n  const {\n    min, max, value, title, description, display\n  } = typeof config === \"string\" ? {value: config} : config;\n  return input({\n    type: \"date\", title, description, display,\n    attributes: {min, max, value}\n  });\n}\n)}\n\nfunction _timeDemo(md){return(\nmd` ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`\"09:30:45\"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _t(time){return(\ntime()\n)}\n\nfunction _59(t){return(\nt\n)}\n\nfunction _t1(time){return(\ntime({\n  title: \"Afternoon\",\n  min: \"12:00:00\",\n  max: \"23:59:59\",\n  value: \"13:00:00\",\n  step: 1,\n  description: \"Only times after noon are allowed, and seconds are included\"\n})\n)}\n\nfunction _61(t1){return(\nt1\n)}\n\nfunction _time(input){return(\nfunction time(config = {}) {\n  const {\n    min, max, step, value, title, description, display\n  } = typeof config === \"string\" ? {value: config} : config;\n  const el = input({\n    type: \"time\",\n    title,\n    description,\n    display,\n    getValue: d => (d.value ? d.value : undefined),\n    attributes: { min, max, step, value }\n  });\n  el.output.remove();\n  return el;\n}\n)}\n\nfunction _fileDemo(md){return(\nmd`---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from \"@jashkenas/inputs\"\\``\n)}\n\nfunction _e(file){return(\nfile()\n)}\n\nfunction _e1(file){return(\nfile({\n  title: \"Photographs\",\n  description: \"Only .jpg files are allowed in this example. Choose some images, and theyâ€™ll appear in the cell below.\",\n  accept: \".jpg\",\n  multiple: true,\n})\n)}\n\nasync function _66(html,e1,Files)\n{\n  const div = html`<div>`;\n  for (var j = 0; j < e1.length; j++) {\n    let file = e1[j];\n    let img = html`<img height=\"125px\" style=\"margin: 2px;\" />`;\n    img.src = await Files.url(e1[j]);\n    div.append(img);\n  }\n  return div;\n}\n\n\nfunction _file(input){return(\nfunction file(config = {}) {\n  const {multiple, accept, title, description} = config;\n  const form = input({\n    type: \"file\", title, description,\n    attributes: {multiple, accept},\n    action: form => {\n      form.input.onchange = () => {\n        form.value = multiple ? form.input.files : form.input.files[0];\n        form.dispatchEvent(new CustomEvent(\"input\"));\n      };\n    }\n  });\n  form.output.remove();\n  form.input.onchange();\n  return form;\n}\n)}\n\nfunction _textDemo(md){return(\nmd`---\n## Text Inputs\n\n~~~js\nimport {text} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _f(text){return(\ntext()\n)}\n\nfunction _f1(text){return(\ntext({title: \"A Text Input\", placeholder: \"Placeholder text\", description: \"Note that text inputs donâ€™t show output on the right\"})\n)}\n\nfunction _71(f1){return(\nf1\n)}\n\nfunction _f2(text){return(\ntext({placeholder: \"Placeholder text\", description: \"This input only changes value on submit\", submit: \"Go\"})\n)}\n\nfunction _73(f2){return(\nf2\n)}\n\nfunction _text(input){return(\nfunction text(config = {}) {\n  const {\n    value,\n    title,\n    description,\n    autocomplete = \"off\",\n    maxlength,\n    minlength,\n    pattern,\n    placeholder,\n    size,\n    submit\n  } = typeof config === \"string\" ? {value: config} : config;\n  const form = input({\n    type: \"text\",\n    title,\n    description,\n    submit,\n    attributes: {\n      value,\n      autocomplete,\n      maxlength,\n      minlength,\n      pattern,\n      placeholder,\n      size\n    }\n  });\n  form.output.remove();\n  form.input.style.fontSize = \"1em\";\n  return form;\n}\n)}\n\nfunction _textareaDemo(md){return(\nmd`---\n## Textareas\n\n~~~js\nimport {textarea} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _g(textarea){return(\ntextarea()\n)}\n\nfunction _77(g){return(\ng\n)}\n\nfunction _g1(textarea){return(\ntextarea({\n  title: \"Your Great American Novel\", \n  placeholder: \"Insert story here...\", \n  spellcheck: true,\n  width: \"100%\",\n  rows: 10,\n  submit: \"Publish\"\n})\n)}\n\nfunction _79(g1){return(\ng1\n)}\n\nfunction _textarea(input,html){return(\nfunction textarea(config = {}) {\n  const {\n    value = \"\", title, description, autocomplete, cols = 45, rows = 3,\n    width, height, maxlength, placeholder, spellcheck, wrap, submit\n  } = typeof config === \"string\" ? {value: config} : config;\n  const form = input({\n    form: html`<form><textarea style=\"display: block; font-size: 0.8em;\" name=input>${value}</textarea></form>`, \n    title, description, submit,\n    attributes: {autocomplete, cols, rows, maxlength, placeholder, spellcheck, wrap}\n  });\n  form.output.remove();\n  if (width != null) form.input.style.width = width;\n  if (height != null) form.input.style.height = height;\n  if (submit) form.submit.style.margin = \"0\";\n  if (title || description) form.input.style.margin = \"3px 0\";\n  return form;\n}\n)}\n\nfunction _radioDemo(md){return(\nmd`---\n## Radio Buttons\n\n~~~js\nimport {radio} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _r(radio){return(\nradio([\"Lust\", \"Gluttony\", \"Greed\", \"Sloth\", \"Wrath\", \"Envy\", \"Pride\"])\n)}\n\nfunction _83(r){return(\nr\n)}\n\nfunction _r1(radio){return(\nradio({\n  title: 'Contact Us',\n  description: 'Please select your preferred contact method',\n  options: [\n    { label: 'By Email', value: 'email' },\n    { label: 'By Phone', value: 'phone' },\n    { label: 'By Pager', value: 'pager' },\n  ],\n  value: 'pager'\n})\n)}\n\nfunction _85(r1){return(\nr1\n)}\n\nfunction _radio(input,html){return(\nfunction radio(config = {}) {\n  let {\n    value: formValue, title, description, submit, options\n  } = Array.isArray(config) ? {options: config} : config;\n  options = options.map(o =>\n    typeof o === \"string\" ? { value: o, label: o } : o\n  );\n  const form = input({\n    type: \"radio\",\n    title,\n    description,\n    submit,\n    getValue: input => {\n      if (input.checked) return input.value;\n      const checked = Array.prototype.find.call(input, radio => radio.checked);\n      return checked ? checked.value : undefined;\n    },\n    form: html`\n      <form>\n        ${options.map(({ value, label }) => {\n          const input = html`<input type=radio name=input ${\n            value === formValue ? \"checked\" : \"\"\n          } style=\"vertical-align: baseline;\" />`;\n          input.setAttribute(\"value\", value);\n          const tag = html`\n          <label style=\"display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;\">\n           ${input}\n           ${label}\n          </label>`;\n          return tag;\n        })}\n      </form>\n    `\n  });\n  form.output.remove();\n  return form;\n}\n)}\n\nfunction _checkboxDemo(md){return(\nmd`---\n## Checkboxes\n\n~~~js\nimport {checkbox} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _ch(checkbox){return(\ncheckbox([\"Lust\", \"Gluttony\", \"Greed\", \"Sloth\", \"Wrath\", \"Envy\", \"Pride\"])\n)}\n\nfunction _89(ch){return(\nch\n)}\n\nfunction _ch1(checkbox){return(\ncheckbox({\n  title: \"Colors\",\n  description: \"Please select your favorite colors\",\n  options: [\n    { value: \"r\", label: \"Red\" },\n    { value: \"o\", label: \"Orange\" },\n    { value: \"y\", label: \"Yellow\" },\n    { value: \"g\", label: \"Green\" },\n    { value: \"b\", label: \"Blue\" },\n    { value: \"i\", label: \"Indigo\" },\n    { value: \"v\", label: \"Violet\" }\n  ],\n  value: [\"r\", \"g\", \"b\"],\n  submit: true\n})\n)}\n\nfunction _91(ch1){return(\nch1\n)}\n\nfunction _ch3(checkbox){return(\ncheckbox({\n  description: \"Just a single checkbox to toggle\",\n  options: [{ value: \"toggle\", label: \"On\" }],\n  value: \"toggle\"\n})\n)}\n\nfunction _93(ch3){return(\nch3\n)}\n\nfunction _checkbox(input,html){return(\nfunction checkbox(config = {}) {\n  let {\n    value: formValue, title, description, submit, options\n  } = Array.isArray(config) ? {options: config} : config;\n  options = options.map(\n    o => (typeof o === \"string\" ? { value: o, label: o } : o)\n  );\n  const form = input({\n    type: \"checkbox\",\n    title,\n    description,\n    submit,\n    getValue: input => {\n      if (input.length)\n        return Array.prototype.filter\n          .call(input, i => i.checked)\n          .map(i => i.value);\n      return input.checked ? input.value : false;\n    },\n    form: html`\n      <form>\n        ${options.map(({ value, label }) => {\n          const input = html`<input type=checkbox name=input ${\n            (formValue || []).indexOf(value) > -1 ? \"checked\" : \"\"\n          } style=\"vertical-align: baseline;\" />`;\n          input.setAttribute(\"value\", value);\n          const tag = html`<label style=\"display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;\">\n           ${input}\n           ${label}\n          </label>`;\n          return tag;\n        })}\n      </form>\n    `\n  });\n  form.output.remove();\n  return form;\n}\n)}\n\nfunction _numberDemo(md){return(\nmd`---\n## Numbers\n\n~~~js\nimport {number} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _h(number){return(\nnumber()\n)}\n\nfunction _97(h){return(\nh\n)}\n\nfunction _h1(number){return(\nnumber({placeholder: \"13+\", title: \"Your Age\", submit: true})\n)}\n\nfunction _99(h1){return(\nh1\n)}\n\nfunction _number(input){return(\nfunction number(config = {}) {\n  const {\n    value,\n    title,\n    description,\n    placeholder,\n    submit,\n    step = \"any\",\n    min,\n    max\n  } = typeof config === \"number\" || typeof config === \"string\" ? {value: +config} : config;\n  const form = input({\n    type: \"number\",\n    title,\n    description,\n    submit,\n    attributes: { value, placeholder, step, min, max, autocomplete: \"off\" },\n    getValue: input => input.valueAsNumber\n  });\n  form.output.remove();\n  form.input.style.width = \"auto\";\n  form.input.style.fontSize = \"1em\";\n  return form;\n}\n)}\n\nfunction _passwordDemo(md){return(\nmd`---\n## Passwords\n\n~~~js\nimport {password} from \"@jashkenas/inputs\"\n~~~`\n)}\n\nfunction _i(password){return(\npassword({value: \"password\"})\n)}\n\nfunction _103(i){return(\ni\n)}\n\nfunction _i1(password){return(\npassword({\n  title: \"Your super secret password\", \n  description: \"Less than 12 characters, please.\",\n  minlength: 6,\n  maxlength: 12\n})\n)}\n\nfunction _105(i1){return(\ni1\n)}\n\nfunction _password(input){return(\nfunction password(config = {}) {\n  const {\n    value,\n    title,\n    description,\n    autocomplete = \"off\",\n    maxlength,\n    minlength,\n    pattern,\n    placeholder,\n    size,\n    submit\n  } = typeof config === \"string\" ? {value: config}Â : config;\n  const form = input({\n    type: \"password\",\n    title,\n    description,\n    submit,\n    attributes: {\n      value,\n      autocomplete,\n      maxlength,\n      minlength,\n      pattern,\n      placeholder,\n      size\n    }\n  });\n  form.output.remove();\n  form.input.style.fontSize = \"1em\";\n  return form;\n}\n)}\n\nfunction _107(md){return(\nmd`---\n## Wishlist (Send suggestions, please!)\n\n* 2D coordinate input (using an &lt;svg>)\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Other useful formatting options.\n\n---`\n)}\n\nfunction _input(html,d3format){return(\nfunction input(config) {\n  let {\n    form,\n    type = \"text\",\n    attributes = {},\n    action,\n    getValue,\n    title,\n    description,\n    format,\n    display,\n    submit,\n    options\n  } = config;\n  const wrapper = html`<div></div>`;\n  if (!form)\n    form = html`<form>\n\t<input name=input type=${type} />\n  </form>`;\n  Object.keys(attributes).forEach(key => {\n    const val = attributes[key];\n    if (val != null) form.input.setAttribute(key, val);\n  });\n  if (submit)\n    form.append(\n      html`<input name=submit type=submit style=\"margin: 0 0.75em\" value=\"${\n        typeof submit == \"string\" ? submit : \"Submit\"\n      }\" />`\n    );\n  form.append(\n    html`<output name=output style=\"font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;\"></output>`\n  );\n  if (title)\n    form.prepend(\n      html`<div style=\"font: 700 0.9rem sans-serif;\">${title}</div>`\n    );\n  if (description)\n    form.append(\n      html`<div style=\"font-size: 0.85rem; font-style: italic;\">${description}</div>`\n    );\n  if (format) format = typeof format === \"function\" ? format : d3format.format(format);\n  if (action) {\n    action(form);\n  } else {\n    const verb = submit\n      ? \"onsubmit\"\n      : type == \"button\"\n      ? \"onclick\"\n      : type == \"checkbox\" || type == \"radio\"\n      ? \"onchange\"\n      : \"oninput\";\n    form[verb] = e => {\n      e && e.preventDefault();\n      const value = getValue ? getValue(form.input) : form.input.value;\n      if (form.output) {\n        const out = display ? display(value) : format ? format(value) : value;\n        if (out instanceof window.Element) {\n          while (form.output.hasChildNodes()) {\n            form.output.removeChild(form.output.lastChild);\n          }\n          form.output.append(out);\n        } else {\n          form.output.value = out;\n        }\n      }\n      form.value = value;\n      if (verb !== \"oninput\")\n        form.dispatchEvent(new CustomEvent(\"input\", { bubbles: true }));\n    };\n    if (verb !== \"oninput\")\n      wrapper.oninput = e => e && e.stopPropagation() && e.preventDefault();\n    if (verb !== \"onsubmit\") form.onsubmit = e => e && e.preventDefault();\n    form[verb]();\n  }\n  while (form.childNodes.length) {\n    wrapper.appendChild(form.childNodes[0]);\n  }\n  form.append(wrapper);\n  return form;\n}\n)}\n\nfunction _d3geo(require){return(\nrequire(\"d3-geo@1\")\n)}\n\nfunction _d3format(require){return(\nrequire(\"d3-format@1\")\n)}\n\nfunction _topojson(require){return(\nrequire(\"topojson-client@3\")\n)}\n\nasync function _world(){return(\n(await fetch(\"https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json\")).json()\n)}\n\nfunction _land(topojson,world){return(\ntopojson.feature(world, world.objects.land)\n)}\n\nfunction _countries(topojson,world){return(\ntopojson.feature(world, world.objects.countries)\n)}\n\nasync function _usa(){return(\n(await fetch(\"https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json\")).json()\n)}\n\nfunction _nation(topojson,usa){return(\ntopojson.feature(usa, usa.objects.nation)\n)}\n\nfunction _states(topojson,usa){return(\ntopojson.feature(usa, usa.objects.states)\n)}\n\nfunction _graticule(d3geo){return(\nd3geo.geoGraticule10()\n)}\n\nfunction _license(md)\n{\n  const license = md`License: [MIT](https://opensource.org/licenses/MIT)`;\n  license.value = \"MIT\";\n  return license;\n}\n\n\nfunction _120(md){return(\nmd`*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://beta.observablehq.com/@meetamit/multiple-choice-inputs).*`\n)}\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], _2);\n  main.variable(observer(\"sliderDemo\")).define(\"sliderDemo\", [\"md\"], _sliderDemo);\n  main.variable(observer(\"viewof a\")).define(\"viewof a\", [\"slider\"], _a);\n  main.variable(observer(\"a\")).define(\"a\", [\"Generators\", \"viewof a\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof a1\")).define(\"viewof a1\", [\"slider\"], _a1);\n  main.variable(observer(\"a1\")).define(\"a1\", [\"Generators\", \"viewof a1\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof a1_1\")).define(\"viewof a1_1\", [\"slider\"], _a1_1);\n  main.variable(observer(\"a1_1\")).define(\"a1_1\", [\"Generators\", \"viewof a1_1\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof a2\")).define(\"viewof a2\", [\"slider\"], _a2);\n  main.variable(observer(\"a2\")).define(\"a2\", [\"Generators\", \"viewof a2\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof a3\")).define(\"viewof a3\", [\"slider\"], _a3);\n  main.variable(observer(\"a3\")).define(\"a3\", [\"Generators\", \"viewof a3\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof a4\")).define(\"viewof a4\", [\"slider\"], _a4);\n  main.variable(observer(\"a4\")).define(\"a4\", [\"Generators\", \"viewof a4\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof a5\")).define(\"viewof a5\", [\"slider\"], _a5);\n  main.variable(observer(\"a5\")).define(\"a5\", [\"Generators\", \"viewof a5\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"md\"], _11);\n  main.variable(observer(\"slider\")).define(\"slider\", [\"input\"], _slider);\n  main.variable(observer(\"buttonDemo\")).define(\"buttonDemo\", [\"md\"], _buttonDemo);\n  main.variable(observer(\"viewof b\")).define(\"viewof b\", [\"button\"], _b);\n  main.variable(observer(\"b\")).define(\"b\", [\"Generators\", \"viewof b\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"b\"], _15);\n  main.variable(observer(\"viewof b1\")).define(\"viewof b1\", [\"button\"], _b1);\n  main.variable(observer(\"b1\")).define(\"b1\", [\"Generators\", \"viewof b1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"b1\"], _17);\n  main.variable(observer(\"button\")).define(\"button\", [\"input\"], _button);\n  main.variable(observer(\"selectDemo\")).define(\"selectDemo\", [\"md\"], _selectDemo);\n  main.variable(observer(\"viewof dd\")).define(\"viewof dd\", [\"select\"], _dd);\n  main.variable(observer(\"dd\")).define(\"dd\", [\"Generators\", \"viewof dd\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"dd\"], _21);\n  main.variable(observer(\"viewof dd1\")).define(\"viewof dd1\", [\"select\"], _dd1);\n  main.variable(observer(\"dd1\")).define(\"dd1\", [\"Generators\", \"viewof dd1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"dd1\"], _23);\n  main.variable(observer(\"viewof dd2\")).define(\"viewof dd2\", [\"select\"], _dd2);\n  main.variable(observer(\"dd2\")).define(\"dd2\", [\"Generators\", \"viewof dd2\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"dd2\"], _25);\n  main.variable(observer(\"viewof dd3\")).define(\"viewof dd3\", [\"select\"], _dd3);\n  main.variable(observer(\"dd3\")).define(\"dd3\", [\"Generators\", \"viewof dd3\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"dd3\"], _27);\n  main.variable(observer(\"select\")).define(\"select\", [\"input\",\"html\"], _select);\n  main.variable(observer(\"autoSelectDemo\")).define(\"autoSelectDemo\", [\"md\"], _autoSelectDemo);\n  main.variable(observer(\"viewof as\")).define(\"viewof as\", [\"autoSelect\",\"usa\"], _as);\n  main.variable(observer(\"as\")).define(\"as\", [\"Generators\", \"viewof as\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"as\"], _31);\n  main.variable(observer(\"autoSelect\")).define(\"autoSelect\", [\"input\",\"html\"], _autoSelect);\n  main.variable(observer(\"colorDemo\")).define(\"colorDemo\", [\"md\"], _colorDemo);\n  main.variable(observer(\"viewof c\")).define(\"viewof c\", [\"color\"], _c);\n  main.variable(observer(\"c\")).define(\"c\", [\"Generators\", \"viewof c\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof c1\")).define(\"viewof c1\", [\"color\"], _c1);\n  main.variable(observer(\"c1\")).define(\"c1\", [\"Generators\", \"viewof c1\"], (G, _) => G.input(_));\n  main.variable(observer(\"color\")).define(\"color\", [\"input\"], _color);\n  main.variable(observer(\"coordinatesDemo\")).define(\"coordinatesDemo\", [\"md\"], _coordinatesDemo);\n  main.variable(observer(\"viewof coords1\")).define(\"viewof coords1\", [\"coordinates\"], _coords1);\n  main.variable(observer(\"coords1\")).define(\"coords1\", [\"Generators\", \"viewof coords1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"coords1\"], _39);\n  main.variable(observer(\"viewof coords2\")).define(\"viewof coords2\", [\"coordinates\"], _coords2);\n  main.variable(observer(\"coords2\")).define(\"coords2\", [\"Generators\", \"viewof coords2\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"coords2\"], _41);\n  main.variable(observer(\"coordinates\")).define(\"coordinates\", [\"html\",\"input\"], _coordinates);\n  main.variable(observer(\"worldMapCoordinatesDemo\")).define(\"worldMapCoordinatesDemo\", [\"md\"], _worldMapCoordinatesDemo);\n  main.variable(observer(\"viewof worldMap1\")).define(\"viewof worldMap1\", [\"worldMapCoordinates\"], _worldMap1);\n  main.variable(observer(\"worldMap1\")).define(\"worldMap1\", [\"Generators\", \"viewof worldMap1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"worldMap1\"], _45);\n  main.variable(observer(\"worldMapCoordinates\")).define(\"worldMapCoordinates\", [\"html\",\"DOM\",\"d3geo\",\"graticule\",\"land\",\"countries\",\"input\"], _worldMapCoordinates);\n  main.variable(observer(\"usaMapCoordinatesDemo\")).define(\"usaMapCoordinatesDemo\", [\"md\"], _usaMapCoordinatesDemo);\n  main.variable(observer(\"viewof usaMap1\")).define(\"viewof usaMap1\", [\"usaMapCoordinates\"], _usaMap1);\n  main.variable(observer(\"usaMap1\")).define(\"usaMap1\", [\"Generators\", \"viewof usaMap1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"usaMap1\"], _49);\n  main.variable(observer(\"viewof usaMap2\")).define(\"viewof usaMap2\", [\"usaMapCoordinates\"], _usaMap2);\n  main.variable(observer(\"usaMap2\")).define(\"usaMap2\", [\"Generators\", \"viewof usaMap2\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"usaMap2\"], _51);\n  main.variable(observer(\"usaMapCoordinates\")).define(\"usaMapCoordinates\", [\"html\",\"DOM\",\"d3geo\",\"nation\",\"states\",\"input\"], _usaMapCoordinates);\n  main.variable(observer(\"dateDemo\")).define(\"dateDemo\", [\"md\"], _dateDemo);\n  main.variable(observer(\"viewof d\")).define(\"viewof d\", [\"date\"], _d);\n  main.variable(observer(\"d\")).define(\"d\", [\"Generators\", \"viewof d\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof d1\")).define(\"viewof d1\", [\"date\"], _d1);\n  main.variable(observer(\"d1\")).define(\"d1\", [\"Generators\", \"viewof d1\"], (G, _) => G.input(_));\n  main.variable(observer(\"date\")).define(\"date\", [\"input\"], _date);\n  main.variable(observer(\"timeDemo\")).define(\"timeDemo\", [\"md\"], _timeDemo);\n  main.variable(observer(\"viewof t\")).define(\"viewof t\", [\"time\"], _t);\n  main.variable(observer(\"t\")).define(\"t\", [\"Generators\", \"viewof t\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"t\"], _59);\n  main.variable(observer(\"viewof t1\")).define(\"viewof t1\", [\"time\"], _t1);\n  main.variable(observer(\"t1\")).define(\"t1\", [\"Generators\", \"viewof t1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"t1\"], _61);\n  main.variable(observer(\"time\")).define(\"time\", [\"input\"], _time);\n  main.variable(observer(\"fileDemo\")).define(\"fileDemo\", [\"md\"], _fileDemo);\n  main.variable(observer(\"viewof e\")).define(\"viewof e\", [\"file\"], _e);\n  main.variable(observer(\"e\")).define(\"e\", [\"Generators\", \"viewof e\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof e1\")).define(\"viewof e1\", [\"file\"], _e1);\n  main.variable(observer(\"e1\")).define(\"e1\", [\"Generators\", \"viewof e1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"html\",\"e1\",\"Files\"], _66);\n  main.variable(observer(\"file\")).define(\"file\", [\"input\"], _file);\n  main.variable(observer(\"textDemo\")).define(\"textDemo\", [\"md\"], _textDemo);\n  main.variable(observer(\"viewof f\")).define(\"viewof f\", [\"text\"], _f);\n  main.variable(observer(\"f\")).define(\"f\", [\"Generators\", \"viewof f\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof f1\")).define(\"viewof f1\", [\"text\"], _f1);\n  main.variable(observer(\"f1\")).define(\"f1\", [\"Generators\", \"viewof f1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"f1\"], _71);\n  main.variable(observer(\"viewof f2\")).define(\"viewof f2\", [\"text\"], _f2);\n  main.variable(observer(\"f2\")).define(\"f2\", [\"Generators\", \"viewof f2\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"f2\"], _73);\n  main.variable(observer(\"text\")).define(\"text\", [\"input\"], _text);\n  main.variable(observer(\"textareaDemo\")).define(\"textareaDemo\", [\"md\"], _textareaDemo);\n  main.variable(observer(\"viewof g\")).define(\"viewof g\", [\"textarea\"], _g);\n  main.variable(observer(\"g\")).define(\"g\", [\"Generators\", \"viewof g\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"g\"], _77);\n  main.variable(observer(\"viewof g1\")).define(\"viewof g1\", [\"textarea\"], _g1);\n  main.variable(observer(\"g1\")).define(\"g1\", [\"Generators\", \"viewof g1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"g1\"], _79);\n  main.variable(observer(\"textarea\")).define(\"textarea\", [\"input\",\"html\"], _textarea);\n  main.variable(observer(\"radioDemo\")).define(\"radioDemo\", [\"md\"], _radioDemo);\n  main.variable(observer(\"viewof r\")).define(\"viewof r\", [\"radio\"], _r);\n  main.variable(observer(\"r\")).define(\"r\", [\"Generators\", \"viewof r\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"r\"], _83);\n  main.variable(observer(\"viewof r1\")).define(\"viewof r1\", [\"radio\"], _r1);\n  main.variable(observer(\"r1\")).define(\"r1\", [\"Generators\", \"viewof r1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"r1\"], _85);\n  main.variable(observer(\"radio\")).define(\"radio\", [\"input\",\"html\"], _radio);\n  main.variable(observer(\"checkboxDemo\")).define(\"checkboxDemo\", [\"md\"], _checkboxDemo);\n  main.variable(observer(\"viewof ch\")).define(\"viewof ch\", [\"checkbox\"], _ch);\n  main.variable(observer(\"ch\")).define(\"ch\", [\"Generators\", \"viewof ch\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"ch\"], _89);\n  main.variable(observer(\"viewof ch1\")).define(\"viewof ch1\", [\"checkbox\"], _ch1);\n  main.variable(observer(\"ch1\")).define(\"ch1\", [\"Generators\", \"viewof ch1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"ch1\"], _91);\n  main.variable(observer(\"viewof ch3\")).define(\"viewof ch3\", [\"checkbox\"], _ch3);\n  main.variable(observer(\"ch3\")).define(\"ch3\", [\"Generators\", \"viewof ch3\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"ch3\"], _93);\n  main.variable(observer(\"checkbox\")).define(\"checkbox\", [\"input\",\"html\"], _checkbox);\n  main.variable(observer(\"numberDemo\")).define(\"numberDemo\", [\"md\"], _numberDemo);\n  main.variable(observer(\"viewof h\")).define(\"viewof h\", [\"number\"], _h);\n  main.variable(observer(\"h\")).define(\"h\", [\"Generators\", \"viewof h\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"h\"], _97);\n  main.variable(observer(\"viewof h1\")).define(\"viewof h1\", [\"number\"], _h1);\n  main.variable(observer(\"h1\")).define(\"h1\", [\"Generators\", \"viewof h1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"h1\"], _99);\n  main.variable(observer(\"number\")).define(\"number\", [\"input\"], _number);\n  main.variable(observer(\"passwordDemo\")).define(\"passwordDemo\", [\"md\"], _passwordDemo);\n  main.variable(observer(\"viewof i\")).define(\"viewof i\", [\"password\"], _i);\n  main.variable(observer(\"i\")).define(\"i\", [\"Generators\", \"viewof i\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"i\"], _103);\n  main.variable(observer(\"viewof i1\")).define(\"viewof i1\", [\"password\"], _i1);\n  main.variable(observer(\"i1\")).define(\"i1\", [\"Generators\", \"viewof i1\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"i1\"], _105);\n  main.variable(observer(\"password\")).define(\"password\", [\"input\"], _password);\n  main.variable(observer()).define([\"md\"], _107);\n  main.variable(observer(\"input\")).define(\"input\", [\"html\",\"d3format\"], _input);\n  main.variable(observer(\"d3geo\")).define(\"d3geo\", [\"require\"], _d3geo);\n  main.variable(observer(\"d3format\")).define(\"d3format\", [\"require\"], _d3format);\n  main.variable(observer(\"topojson\")).define(\"topojson\", [\"require\"], _topojson);\n  main.variable(observer(\"world\")).define(\"world\", _world);\n  main.variable(observer(\"land\")).define(\"land\", [\"topojson\",\"world\"], _land);\n  main.variable(observer(\"countries\")).define(\"countries\", [\"topojson\",\"world\"], _countries);\n  main.variable(observer(\"usa\")).define(\"usa\", _usa);\n  main.variable(observer(\"nation\")).define(\"nation\", [\"topojson\",\"usa\"], _nation);\n  main.variable(observer(\"states\")).define(\"states\", [\"topojson\",\"usa\"], _states);\n  main.variable(observer(\"graticule\")).define(\"graticule\", [\"d3geo\"], _graticule);\n  main.variable(observer(\"viewof license\")).define(\"viewof license\", [\"md\"], _license);\n  main.variable(observer(\"license\")).define(\"license\", [\"Generators\", \"viewof license\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"md\"], _120);\n  return main;\n}\n","function _1(md){return(\nmd`# Vega-Lite API v4`\n)}\n\nfunction _2(md){return(\nmd`The [Vega-Lite JavaScript API](https://github.com/vega/vega-lite-api/) provides a convenient way to write [Vega-Lite](https://vega.github.io/vega-lite) specifications in a programmatic fashion. Scroll down for some usage examples, or browse the [Vega-Lite API example collection](https://observablehq.com/collection/@vega/vega-lite-api)!\n\nThis notebook uses **version 4** of Vega-Lite and the corresponding Vega-Lite API 4.0. _To use the more recent Vega-Lite version 5, see the [Vega-Lite API v5 notebook](https://observablehq.com/@vega/vega-lite-api-v5) instead._\n\nWant to learn more about data visualization and how to use the Vega-Lite API? Read the [introduction to Vega-Lite](https://observablehq.com/@uwdata/introduction-to-vega-lite) and the [data visualization curriculum](https://observablehq.com/@uwdata/data-visualization-curriculum?collection=@uwdata/visualization-curriculum).`\n)}\n\nfunction _3(md){return(\nmd`\nThe cell below imports the Vega-Lite API and registers the desired versions of Vega and Vega-Lite, along with default [Vega View options](https://vega.github.io/vega/docs/api/view/#view) and [Vega-Lite configuration](https://vega.github.io/vega-lite/docs/config.html):\n`\n)}\n\nasync function _vl(require)\n{\n  const [vega, vegalite, api, tooltip] = await Promise.all([\n    'vega@5.23.0',\n    'vega-lite@4.17.0',\n    'vega-lite-api@4.0.0',\n    'vega-tooltip@0.25.1'\n  ].map(module => require(module)));\n\n  const options = {\n    config: {\n      // vega-lite default configuration\n      config: {\n        view: {continuousWidth: 400, continuousHeight: 300},\n        mark: {tooltip: null}\n      }\n    },\n    init: view => {\n      // initialize tooltip handler\n      view.tooltip(new tooltip.Handler().call);\n      // enable horizontal scrolling for large plots\n      if (view.container()) view.container().style['overflow-x'] = 'auto';\n    },\n    view: {\n      // view constructor options\n      loader: vega.loader({baseURL: 'https://cdn.jsdelivr.net/npm/vega-datasets@2/'}),\n      renderer: 'canvas'\n    }\n  };\n  \n  return api.register(vega, vegalite, options);\n}\n\n\nfunction _5(md){return(\nmd`To use the same setup in your own notebooks, add a cell with the following code:\n~~~ js\nimport {vl} from '@vega/vega-lite-api'\n~~~\nTo use the API outside of Observable, see the [stand-alone usage instructions](#standalone_use) below.\n`\n)}\n\nfunction _zip_codes(md){return(\nmd`## Zip Codes\n\nA dot for each zip code in the United States, colored by the first digit.\n`\n)}\n\nfunction _7(vl,width){return(\nvl.markSquare({size: 2, opacity: 1})\n  .data('data/zipcodes.csv')\n  .transform(vl.calculate('substring(datum.zip_code, 0, 1)').as('digit'))\n  .project(\n    vl.projection('albersUsa')\n  )\n  .encode(\n    vl.longitude().fieldQ('longitude'),\n    vl.latitude().fieldQ('latitude'),\n    vl.color().fieldN('digit')\n  )\n  .width(width)\n  .height(Math.floor(width / 1.75))\n  .autosize({type: 'fit-x', contains: 'padding'})\n  .config({view: {stroke: null}})\n  .render()\n)}\n\nfunction _interactive_weather(md){return(\nmd`## Interactive Seattle Weather 2012-2015\n\nA scatter plot and summary histogram with linked \\`selections\\` between plots to perform cross-filtering and configure conditional color encodings.\n`\n)}\n\nfunction _9(vl,width)\n{\n  const brush = vl.selectInterval().encodings('x');\n  const click = vl.selectMulti().encodings('color');\n\n  const scale = {\n    domain: ['sun', 'fog', 'drizzle', 'rain', 'snow'],\n    range: ['#e7ba52', '#a7a7a7', '#aec7e8', '#1f77b4', '#9467bd']\n  };\n\n  const plot1 = vl.markPoint({filled: true})\n    .encode(\n      vl.color().value('lightgray')\n        .if(brush, vl.color().fieldN('weather').scale(scale).title('Weather')),\n      vl.size().fieldQ('precipitation').scale({domain: [-1, 50], range: [10, 500]}).title('Precipitation'),\n      vl.order().fieldQ('precipitation').sort('descending'),\n      vl.x().timeMD('date').axis({title: 'Date', format: '%b'}),\n      vl.y().fieldQ('temp_max').scale({domain: [-5, 40]}).axis({title: 'Maximum Daily Temperature (Â°C)'})\n    )\n    .width(width)\n    .height(300)\n    .select(brush)\n    .transform(vl.filter(click));\n\n  const plot2 = vl.markBar()\n    .encode(\n      vl.color().value('lightgray')\n        .if(click, vl.color().fieldN('weather').scale(scale).title('Weather')),\n      vl.x().count(),\n      vl.y().fieldN('weather').scale({domain: scale.domain}).title('Weather')\n    )\n    .width(width)\n    .select(click)\n    .transform(vl.filter(brush));\n\n  return vl.vconcat(plot1, plot2)\n    .data('data/seattle-weather.csv')\n    .autosize({type: 'fit-x', contains: 'padding'})\n    .render();\n}\n\n\nfunction _parallel_coordinats(md){return(\nmd`## Parallel Coordinates\n\nA [parallel coordinates plot](https://en.wikipedia.org/wiki/Parallel_coordinates) that uses \\`window\\` and \\`fold\\` transforms to convert the four dimensions of penguin measurements into normalized coordinates that can be visualized as \\`line\\` marks. The graphic includes an additional layer with custom \\`text\\` mark labels for the parallel axis grid lines. We render the plot as SVG by passing \\`{renderer:'svg'}\\` to the \\`render\\` method.\n`\n)}\n\nfunction _11(vl,width)\n{\n  const domain = [\n    'Beak Length (mm)',\n    'Beak Depth (mm)',\n    'Flipper Length (mm)',\n    'Body Mass (g)'\n  ];\n\n  const scale = {\n    type: 'point',\n    padding: 0\n  };\n  \n  const axis = {\n    domain: false,\n    ticks: false,\n    title: false,\n    grid: true,\n    gridColor: '#888',\n    labelAngle: 0,\n    labelPadding: 8,\n    labelFontWeight: 'bold'\n  };\n\n  const lines = vl.markLine({\n      strokeWidth: 1.5,\n      opacity: 0.5\n    })\n    .encode(\n      vl.color().fieldN('Species').sort('descending'),\n      vl.detail().fieldN('index'),\n      vl.x().fieldO('key').scale(scale).axis(axis),\n      vl.y().fieldQ('fraction').axis(null)\n    );\n\n  const labels = vl.markText({\n      dx: -2,\n      align: 'right',\n      baseline: 'middle'\n    })\n    .transform(\n      vl.groupby('key').aggregate(vl.min('value').as('min'), vl.max('value').as('max')),\n      vl.fold('min', 'max').as('op', 'value'),\n      vl.groupby('key').window(vl.percent_rank('value').as('fraction'))\n    )\n    .encode(\n      vl.x().fieldN('key'),\n      vl.y().fieldQ('fraction').axis(null),\n      vl.text().field('value').format(',')\n    );\n\n  const plot = vl.layer(lines, labels)\n    .data('data/penguins.json')\n    .transform(\n      vl.filter('datum[\"Beak Length (mm)\"] != null'),\n      vl.window(vl.row_number().as('index')),\n      vl.fold(domain).as('key', 'value'),\n      vl.groupby('key').join(vl.min('value').as('min'), vl.max('value').as('max')),\n      vl.calculate('(datum.value - datum.min) / (datum.max - datum.min)').as('fraction')\n    )\n    .width(width)\n    .height(300)\n    .autosize({type: 'fit-x', contains: 'padding'})\n\n  return plot.render({renderer: 'svg'});\n}\n\n\nfunction _standalone_use(md){return(\nmd`<hr/>\n## Stand-Alone Usage in a Web Browser\n\nTo use the Vega-Lite API in the browser outside of Observable, you need to include all the dependencies, set the default configuration, and then register the Vega libraries. Here is some starting code to build from:\n\n~~~html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <script src=\"https://cdn.jsdelivr.net/npm/vega@5\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/vega-lite@4\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/vega-lite-api@4\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/vega-tooltip\"></script>\n  </head>\n  <body>\n    <div id=\"view\"></div>\n\n    <script>\n      // setup API options\n      const options = {\n        config: {\n          // Vega-Lite default configuration\n        },\n        init: (view) => {\n          // initialize tooltip handler\n          view.tooltip(new vegaTooltip.Handler().call);\n        },\n        view: {\n          // view constructor options\n          // remove the loader if you don't want to default to vega-datasets!\n          loader: vega.loader({\n            baseURL: \"https://cdn.jsdelivr.net/npm/vega-datasets@2/\",\n          }),\n          renderer: \"canvas\",\n        },\n      };\n\n      // register vega and vega-lite with the API\n      vl.register(vega, vegaLite, options);\n\n      // now you can use the API!\n      vl.markBar({ tooltip: true })\n        .data([\n          { a: \"A\", b: 28 }, { a: \"B\", b: 55 }, { a: \"C\", b: 43 },\n          { a: \"D\", b: 91 }, { a: \"E\", b: 81 }, { a: \"F\", b: 53 },\n          { a: \"G\", b: 19 }, { a: \"H\", b: 87 }, { a: \"I\", b: 52 },\n        ])\n        .encode(\n          vl.x().fieldQ(\"b\"),\n          vl.y().fieldN(\"a\"),\n          vl.tooltip([vl.fieldQ(\"b\"), vl.fieldN(\"a\")])\n        )\n        .render()\n        .then(viewElement => {\n          // render returns a promise to a DOM element containing the chart\n          // viewElement.value contains the Vega View object instance\n          document.getElementById('view').appendChild(viewElement);\n        });\n    </script>\n  </body>\n</html>\n\n~~~`\n)}\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], _1);\n  main.variable(observer()).define([\"md\"], _2);\n  main.variable(observer()).define([\"md\"], _3);\n  main.variable(observer(\"vl\")).define(\"vl\", [\"require\"], _vl);\n  main.variable(observer()).define([\"md\"], _5);\n  main.variable(observer(\"zip_codes\")).define(\"zip_codes\", [\"md\"], _zip_codes);\n  main.variable(observer()).define([\"vl\",\"width\"], _7);\n  main.variable(observer(\"interactive_weather\")).define(\"interactive_weather\", [\"md\"], _interactive_weather);\n  main.variable(observer()).define([\"vl\",\"width\"], _9);\n  main.variable(observer(\"parallel_coordinats\")).define(\"parallel_coordinats\", [\"md\"], _parallel_coordinats);\n  main.variable(observer()).define([\"vl\",\"width\"], _11);\n  main.variable(observer(\"standalone_use\")).define(\"standalone_use\", [\"md\"], _standalone_use);\n  return main;\n}\n","// https://observablehq.com/@robinl/unsupervised-probabalistic-data-matching-using-the-expec@1041\nimport define1 from \"./146f352f1166f0d1@2202.js\";\nimport define2 from \"./7764a40fe6b83ca1@437.js\";\n\nfunction _title(md){return(\nmd`# Unsupervised probabalistic data matching using the Expectation Maximisation algorithm`\n)}\n\nfunction _out_1(md){return(\nmd`This notebook is an interactive implementation of the Fellegi-Sunter model of record linkage, with record linkage probabilities estimated using the Expectation Maximisation (EM) algorithm.  \n\nThis is an unsupervised approach to finding matching records, which seems like magic to me - so hopefully this notebook helps demystify how this is possible.\n`\n)}\n\nfunction _out_2(md){return(\nmd`## Input data\n\nConsider two tables, which we are trying to match to one another.   \\`mob\\` stands for month of birth.\n**Note**: You can edit this data so long as you keep the column names the same.\n\n`\n)}\n\nfunction _out_3(md){return(\nmd`**Left table:**`\n)}\n\nfunction _left_table_csv(textarea,data_left_template){return(\ntextarea({\"value\":data_left_template, \"rows\": 6, width: \"100%\"})\n)}\n\nfunction _out_4(md,table,data_left){return(\nmd`${table(data_left)}`\n)}\n\nfunction _out_5(md){return(\nmd`**Right table:**`\n)}\n\nfunction _right_table_csv(textarea,data_right_template){return(\ntextarea({\"value\":data_right_template, \"rows\": 6, width: \"100%\"})\n)}\n\nfunction _out_6(md,table,data_right){return(\nmd`\n\n${table(data_right)}\n\n\n`\n)}\n\nfunction _out_7(md){return(\nmd`**Real matches**\n\nThese are the records which match in reality. You only need to include records which match, i.e. where label = 1.  These are the unknowns the model is trying to estimate \n`\n)}\n\nfunction _match_pairs_csv(textarea,match_pairs_template){return(\ntextarea({\"value\":match_pairs_template, \"rows\": 6, width: \"100%\"})\n)}\n\nfunction _out_8(md,html,table,match_pairs,combinations){return(\nmd`${html`<br>`}\n\n${table(match_pairs)}\n\n\n\nFinally, here are all the possible record comparisons:\n\n${table(combinations)}`\n)}\n\nfunction _out_9(md,num_fmt,true_lambda,tex){return(\nmd`To set this up as a maximum likelihood estimation problem, we need to make some assumptions about the structure of the problem, and choose some parameters to estimate.\n\nFirst, we will designate Î» the proportion of comparisons which are matches.  This is an unknown parameter to be estimated.  In the case of this data, the true Î» is ${num_fmt(true_lambda)}.\n\nNext, we will create the concept of a _comparison vector_, which is a way of encoding record comparisons into a vector.  \n\nIn this simple example our comparison vector, ${tex`\\gamma`} will be of length ${tex`k=2`} , i.e. ${tex`\\gamma = [\\gamma_1, \\gamma_2]`} and will encode the following two rules:\n\n- If \\`mob\\` matches,  ${tex`\\gamma_1 = 1`} else ${tex`\\gamma_1 = 0`}\n- If \\`surname\\` matches exactly  ${tex`\\gamma_2 = 1`}. If it is similar ${tex`\\gamma_2 = 0.5`}.  Otherwise ${tex`\\gamma_2 = 0`}\n\n\nWe will then assume that element ${tex`i`} of the comparison vector is a draw from one of two discrete distributions:\n\n${tex`\\pi_{i,m=1}`}, the discrete distribution of ${tex`\\gamma_i`} when the records match\n\nand \n\n\n${tex`\\pi_{i,m=0}`}, the discrete distribution of ${tex`\\gamma_i`} when the records do not match\n\n`\n)}\n\nfunction _out_10(md,table,comparison_vectors){return(\nmd` Here are the comparison vectors for this data:\n\n${table(comparison_vectors)}\n\nEach row represents the comparison vector, which has two elements [ð›¾1, ð›¾2].  \n\n`\n)}\n\nfunction _out_11(md,tex){return(\nmd`These assumptions are all we need to define the equation for the likelihood.  The equation looks quite complicated (see page 356 [here](https://imai.fas.harvard.edu/research/files/linkage.pdf)):\n\n${tex`\\prod_{i=1}^{N_{\\mathcal{A}}} \\prod_{j=1}^{N_{\\mathcal{B}}}\\left\\{\\sum_{m=0}^{1} \\lambda^{m}(1-\\lambda)^{1-m} \\prod_{k=1}^{K}\\left(\\prod_{\\ell=0}^{L_{k}-1} \\pi_{k m \\ell}^{1\\left\\{\\gamma_{k}(i, j)=\\ell\\right\\}}\\right)^{1-\\delta_{k}(i, j)}\\right\\}`}\n\nBut expressed in words it's quite simple - approximately:\n\n- For each element of the comparison vector, the probability of the observed outcome is ${tex`\\lambda (\\pi_{i,m=1}|\\gamma_i)  + (1-\\lambda) (\\pi_{i,m=0}|\\gamma_i)`}\n- Compute this probability for each of the ${tex`k`} elements of the comparison vector in the row, and multiply together.  This represents the likelihood of the row\n- Compute this for each row, and multiply together\n\n`\n)}\n\nfunction _out_12(md,tex){return(\nmd`To estimate which record comparisons are matches, we need to estimate the unknown parameters, which are ${tex`\\lambda`} and the parameters of the four discrete distributions ${tex`\\pi_{i,m}`}.\n\nThere's an algorithm called the Expectation Maximisation algorithm which can solve this problem iteratively.\n\nIn this notebook, rather than implement this algorithm, we will simply let you choose the parameters to try and maximise the log likelihood manually.  \n\n## Estimating matches`\n)}\n\nfunction _lambda(slider){return(\nslider({\n  title: \"Choose Î», the proportion of combinations which are matches\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.5\n})\n)}\n\nfunction _pi1_1_m1(slider){return(\nslider({\n  title: \"Month of birth comparison, probability month of birth matches given m=1\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.5\n})\n)}\n\nfunction _pi1_1_m0(slider){return(\nslider({\n  title: \"Month of birth comparison, probability month of birth matches given records DO NOT match\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.5\n})\n)}\n\nfunction _pi2_1_m1(slider){return(\nslider({\n  title: \"Surname comparison, probability field exactly matches given records match\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.3\n})\n)}\n\nfunction _pi2_05_m1(slider){return(\nslider({\n  title: \"Surname comparison, probability fields similar given records match\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.3\n})\n)}\n\nfunction _pi2_1_m0(slider){return(\nslider({\n  title: \"Surname comparison, probability field exactly matches given records DO NOT match\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.3\n})\n)}\n\nfunction _pi2_05_m0(slider){return(\nslider({\n  title: \"Surname comparison, probability fields similar given records DO NOT match\",\n  min: 0,\n  max: 1,\n  step: 0.01,\n  value: 0.3\n})\n)}\n\nfunction _out_13(md,num_fmt,log_likelihood){return(\nmd`The log likelihood given these parameters is ${num_fmt(log_likelihood)}`\n)}\n\nfunction _out_14(md){return(\nmd`Here's a history of the values of log likelihood as you've been adjusting the sliders:`\n)}\n\nfunction _ll_chart(log_likelihood,history_ll,vl)\n{\n  let a = log_likelihood\n  let data = history_ll.map((d,i)=> { return {\"log_likelihood\":d[\"log_likelihood\"], \"i\":i}} )\n   data = data.filter(d => d[\"log_likelihood\"] > -1000000)\n\n  \n return vl.markLine()\n  .data(data)\n  .encode(\n    vl.y().field('log_likelihood').type('quantitative').scale({\"zero\":false}),\n    vl.x().field('i').type('quantitative'),\n\n\n  )\n  .height(200)\n\n  .render()  \n  \n}\n\n\nfunction _out_15(md,tex){return(\nmd`This chart shows ${tex`\\pi_{1,m=0}`} and ${tex`\\pi_{1,m=1}`}, the discrete distributions that you've chosen for ${tex`\\gamma_1`}, the \\`mob\\` comparison vector.`\n)}\n\nfunction _pi_chart_1(pi1_1_m1,pi1_1_m0,vl)\n{\n \n  let data = [\n           {\"ð›¾_val\":\"1\", \"probability\": pi1_1_m1, \"m\":1, \"rule\": \"mob\"},\n           {\"ð›¾_val\":\"0\", \"probability\": 1-pi1_1_m1, \"m\":1, \"rule\": \"mob\"},\n           {\"ð›¾_val\":\"1\", \"probability\": pi1_1_m0, \"m\":0, \"rule\": \"mob\"},\n           {\"ð›¾_val\":\"0\", \"probability\": 1-pi1_1_m0, \"m\":0, \"rule\": \"mob\"}\n          ]\n  \n    return vl.markBar()\n  .data(data)\n  .encode(\n    vl.y().field('ð›¾_val').type('nominal'),\n    vl.x().field('probability').type('quantitative'),\n    vl.column().fieldN('m').title(null),\n    vl.color().fieldN('m')\n  )\n  .height(30)\n  .width(100)\n  .render()\n  \n\n  \n}\n\n\nfunction _out_16(md,tex){return(\nmd`This chart shows ${tex`\\pi_{2,m=0}`} and ${tex`\\pi_{2,m=1}`}, the discrete distributions you've chosen for ${tex`\\gamma_2`}, the \\`surname\\` comparison vector.`\n)}\n\nfunction _pi_chart_2(pi2_1_m1,pi2_05_m1,pi2_1_m0,pi2_05_m0,vl)\n{\n \n  let data = [{\"ð›¾_val\":\"1\", \"probability\": pi2_1_m1, \"m\":1, \"rule\": \"surname\"},\n           {\"ð›¾_val\":\"0.5\", \"probability\": pi2_05_m1, \"m\":1, \"rule\": \"surname\"},\n           {\"ð›¾_val\":\"0\", \"probability\": 1-pi2_1_m1-pi2_05_m1, \"m\":1, \"rule\": \"surname\"},\n           {\"ð›¾_val\":\"1\", \"probability\": pi2_1_m0, \"m\":0, \"rule\": \"surname\"},\n           {\"ð›¾_val\":\"0.5\", \"probability\": pi2_05_m0, \"m\":0, \"rule\": \"surname\"},\n           {\"ð›¾_val\":\"0\", \"probability\": 1-pi2_1_m0-pi2_05_m0, \"m\":0, \"rule\": \"surname\"}\n          ]\n  \n  return vl.markBar()\n  .data(data)\n  .encode(\n    vl.y().field('ð›¾_val').type('nominal'),\n    vl.x().field('probability').type('quantitative'),\n    vl.column().fieldN('m').title(null),\n    vl.color().fieldN('m')\n  )\n  .height(30)\n  .width(100)\n  .render()\n  \n  \n\n  \n}\n\n\nfunction _out_17(md,tex,html){return(\nmd`Given the parameter values you've selected, we can now compute the probability that we have a match for each record comparison, ${tex`P(m)`}.\n\nWe can write the probabilities of observing ${tex`\\gamma_i`} given our parameters, and whether the record is a match:\n\n${tex`p1 = \\lambda P(\\gamma_1|\\pi_{1,m=1})`}\n\n${html`<br>`}\n\n${tex`p2 = \\lambda P(\\gamma_2|\\pi_{2,m=1}) `}\n\n${html`<br>`}\n\n${tex`n1 = (1-\\lambda) P(\\gamma_2|\\pi_{2,m=0}) `}\n\n${html`<br>`}\n\n${tex`n2 = (1-\\lambda) P(\\gamma_2|\\pi_{2,m=0}) `}\n\n\nThe probability of a given record being a match is then:\n\n${tex`\\frac{p1 p2}{p1 p2 + n1 n2} = \\frac{1}{1 + \\frac{n1 n2}{p1 p2}}`}.\n`\n)}\n\nfunction _out_18(combinations,get_comparison_vector,deepcopy,num_fmt,get_estimated_match_probability,table)\n{\n  \n  let c = combinations.map(function(d) {\n     let cv = get_comparison_vector(d)\n     d = deepcopy(d)\n     d[\"ð›¾1\"] = cv[\"ð›¾1\"]\n     d[\"ð›¾2\"] = cv[\"ð›¾2\"]\n     d[\"prob_match\"] = num_fmt(get_estimated_match_probability(d))\n     return d\n  })\n  \n  c.columns = Object.keys(c[0])\n  \n  return table(c)\n  \n}\n\n\nfunction _out_19(md){return(\nmd`## Annex: Code\n\nThis is the code I used to compute the log likelihood:\n\n\\`\\`\\`javascript\n{\n function log_probability_of_element_of_gamma(elem, pi) {\n    let prob =  lambda * pi[\"1\"][elem] + (1-lambda) * pi[\"0\"][elem]\n    return Math.log(prob)\n  }\n  \n  function log_probability_of_comparison(comparison_vector) {\n    let elem = comparison_vector[\"ð›¾1\"]\n    let ln_prob_1 = log_probability_of_element_of_gamma(elem, pi_mob)\n    \n    elem = comparison_vector[\"ð›¾2\"]\n    let ln_prob_2 = log_probability_of_element_of_gamma(elem, pi_surname)\n    \n    return ln_prob_1 + ln_prob_2\n  }\n  \n  let log_probs_of_rows = comparison_vectors.map(cv => log_probability_of_comparison(cv))\n  \n  return log_probs_of_rows.reduce((a,b) => a + b)\n}\n\\`\\`\\`\n\nand the code to compute the probability of a match:\n\n\n\\`\\`\\`javascript \nget_estimated_match_probability = function(comparison_vector) {\n  let gamma1 = comparison_vector[\"ð›¾1\"]\n  let gamma2 = comparison_vector[\"ð›¾2\"]\n  \n  let prob_match_1 = lambda * pi_mob[\"1\"][gamma1]\n  let prob_no_match_1 = (1-lambda) * pi_mob[\"0\"][gamma1]\n  let sum_1 = prob_match_1 + prob_no_match_1\n\n  \n  let prob_match_2 = lambda * pi_surname[\"1\"][gamma1] \n  let prob_no_match_2 = (1-lambda) * pi_surname[\"0\"][gamma1]\n  let sum_2 = prob_match_2 + prob_no_match_2\n  \n  // Is the following calculation correct?\n  let lr = (prob_match_1 * prob_match_2) / (prob_match_1*prob_match_2 + prob_no_match_1*prob_no_match_2)  \n  \n  return lr\n \n}\n\\`\\`\\`\n\n`\n)}\n\nfunction _data_left_template(){return(\n`row_id_l,mob_l,surname_l\n1,10,Linacre\n2,7,Smith\n`\n)}\n\nfunction _data_right_template(){return(\n`row_id_r,mob_r,surname_r\n1,10,Linacer\n2,8,Jones\n3,7,Smith\n`\n)}\n\nfunction _data_left($0,d3,left_table_csv)\n{\n  $0.value = []\n  return d3.csvParse(left_table_csv)\n}\n\n\nfunction _data_right($0,d3,right_table_csv)\n{\n  $0.value = []\n  return d3.csvParse(right_table_csv)\n}\n\n\nfunction _match_pairs_template(){return(\n`row_id_l,row_id_r,label\n1,1,1\n2,3,1\n`\n)}\n\nfunction _matches($0,d3,match_pairs_csv)\n{\n\n  $0.value = []\n  \n  return d3.csvParse(match_pairs_csv)\n  \n}\n\n\nfunction _combinations(db,alasql,sql_with_cols)\n{\n  let a = db;\n  \n  alasql(\"DROP TABLE if exists combinations\");\n  \n  let combinations_data = alasql(`select * from df_l\n  cross join df_r\n  left join matches as m\n  on df_l.row_id_l = m.row_id_l and df_r.row_id_r = m.row_id_r\n  `);\n  \n  // Set label = 0 if left join returned null\n  combinations_data = combinations_data.map(function(d) {\n    if (!(d[\"label\"])) {\n      d[\"label\"] = \"0\"\n    }\n  \n    \n    return d\n  })\n  \n  alasql(\"CREATE TABLE combinations\");\n  alasql.tables.combinations.data = combinations_data\n  \n  \n  return sql_with_cols(`\n  select * from combinations\n\n`)\n}\n\n\nfunction _41(md){return(\nmd`### Annex 2:  Computation of comparison vectors`\n)}\n\nfunction _get_comparison_vector(month_of_birth,surname){return(\nfunction get_comparison_vector(row) {\n\n  return {\"ð›¾1\": month_of_birth(row), \"ð›¾2\": surname(row)}\n  \n}\n)}\n\nfunction _month_of_birth(){return(\nfunction month_of_birth(row) {\n  return +(row.mob_l == row.mob_r)\n}\n)}\n\nfunction _surname(levenshtein){return(\nfunction surname(row) {\n if (row.surname_l == row.surname_r) {return 1}\n if (levenshtein.get(row.surname_l, row.surname_r) < 3) {return 0.5}\n return 0\n}\n)}\n\nfunction _comparison_vectors(combinations,get_comparison_vector)\n{\n  let cvs = combinations.map(row => get_comparison_vector(row))\n  cvs.columns = Object.keys(cvs[0])\n  return cvs\n}\n\n\nfunction _match_pairs(db,sql_with_cols)\n{\n  let a = db;\n  return sql_with_cols(`\n\nselect df_l.row_id_l, df_r.row_id_r \nfrom df_l\n  cross join df_r\n  left join matches as m\non df_l.row_id_l = m.row_id_l and df_r.row_id_r = m.row_id_r\nwhere m.label = '1'\n\n`)\n}\n\n\nfunction _real_matches(matches){return(\nmatches.filter(d =>\n  d.match == 1\n).map(d => {delete d.match; return d})\n)}\n\nfunction _48(md){return(\nmd`### Annex 3:  Likelihood and probability calculations`\n)}\n\nfunction _true_lambda(combinations,sql_return_scalar)\n{\n  let c = combinations\n  let count_match =  sql_return_scalar(`\n select count(*) as count_match\nfrom combinations\n where label = '1' \n`);\n  \n  let total_count = sql_return_scalar(`\nselect count(*) from combinations\n`)\n  \n  return count_match/total_count\n}\n\n\nfunction _pi_surname(pi2_1_m1,pi2_05_m1,pi2_1_m0,pi2_05_m0)\n{\n  \n  let m1 = {\n      \"1\":pi2_1_m1,\n      \"0.5\":pi2_05_m1,\n      \"0\":1 - pi2_1_m1 - pi2_05_m1\n    }\n  \n  let m0 = {\n      \"1\":pi2_1_m0,\n      \"0.5\":pi2_05_m0,\n      \"0\":1-pi2_1_m0-pi2_05_m0\n    }\n \n  return {\n    \"1\": m1,\n    \"0\": m0\n  }\n}\n\n\nfunction _pi_mob(pi1_1_m1,pi1_1_m0)\n{\n  let m1 = {\n      \"1\":pi1_1_m1,\n      \"0\":1 - pi1_1_m1 \n    }\n  \n  let m0 = {\n      \"1\":pi1_1_m0,\n      \"0\":1-pi1_1_m0\n    }\n \n  return {\n    \"1\": m1,\n    \"0\": m0\n  }\n}\n\n\nfunction _get_estimated_match_probability(lambda,pi_mob,pi_surname){return(\nfunction(comparison_vector) {\n  let gamma1 = comparison_vector[\"ð›¾1\"]\n  let gamma2 = comparison_vector[\"ð›¾2\"]\n  \n  let prob_match_1 = lambda * pi_mob[\"1\"][gamma1]\n  let prob_no_match_1 = (1-lambda) * pi_mob[\"0\"][gamma1]\n  let sum_1 = prob_match_1 + prob_no_match_1\n\n  \n  let prob_match_2 = lambda * pi_surname[\"1\"][gamma1] \n  let prob_no_match_2 = (1-lambda) * pi_surname[\"0\"][gamma1]\n  let sum_2 = prob_match_2 + prob_no_match_2\n  \n  // Is the following calculation correct?\n  let lr = (prob_match_1 * prob_match_2) / (prob_match_1*prob_match_2 + prob_no_match_1*prob_no_match_2)  \n  \n  return lr\n \n}\n)}\n\nfunction _log_likelihood(lambda,pi_mob,pi_surname,comparison_vectors)\n{\n  \n  function log_probability_of_element_of_gamma(elem, pi) {\n    let prob =  lambda * pi[\"1\"][elem] + (1-lambda) * pi[\"0\"][elem]\n    return Math.log(prob)\n  }\n  \n  function log_probability_of_comparison(comparison_vector) {\n    let elem = comparison_vector[\"ð›¾1\"]\n    let ln_prob_1 = log_probability_of_element_of_gamma(elem, pi_mob)\n    \n    elem = comparison_vector[\"ð›¾2\"]\n    let ln_prob_2 = log_probability_of_element_of_gamma(elem, pi_surname)\n    \n    return ln_prob_1 + ln_prob_2\n  }\n  \n  let log_probs_of_rows = comparison_vectors.map(cv => log_probability_of_comparison(cv))\n  \n  return log_probs_of_rows.reduce((a,b) => a + b)\n  \n}\n\n\nfunction _54(md){return(\nmd`### Annex 4: Other functions`\n)}\n\nfunction _history_ll(){return(\n[]\n)}\n\nfunction _56(history_ll,log_likelihood)\n{\n history_ll.push({\"log_likelihood\":log_likelihood}) \n}\n\n\nfunction _db(alasql,data_left,data_right,matches)\n{\n let db = alasql(\"DROP TABLE if exists df_l\");\n alasql(\"CREATE TABLE df_l\");\n  \n alasql(\"DROP TABLE if exists df_r\");\n alasql(\"CREATE TABLE df_r\");\n  \n alasql(\"DROP TABLE if exists matches\");\n alasql(\"CREATE TABLE matches\");\n\n  alasql.tables.df_l.data = data_left\n  alasql.tables.df_r.data = data_right\n  alasql.tables.matches.data = matches\n  \n  return db\n}\n\n\nfunction _58(md){return(\nmd`### Generic utility libraries and functions`\n)}\n\nfunction _sql_with_cols(alasql){return(\nfunction(sql) {\n  let tab = alasql(sql)\n  tab.columns = Object.keys(tab[0])\n  return tab\n  \n}\n)}\n\nfunction _table(html){return(\nfunction table(data) {\n return html`\n<table>\n<thead>\n<tr>\n${data.columns.map(d => html`<th>${d}`)}\n<tbody>\n${data.map(row => html`<tr>\n  ${Object.keys(row).map(key => html`<td>${row[key]}`)}\n`)}\n`\n}\n)}\n\nfunction _alasql(require){return(\nrequire(\"alasql\")\n)}\n\nfunction _sql_return_scalar(alasql){return(\nfunction(sql) {\n  let result = alasql(sql) \n  result = result[0]\n  return result[Object.keys(result)[0]]\n}\n)}\n\nfunction _d3(require){return(\nrequire(\"d3\")\n)}\n\nfunction _num_fmt(d3){return(\nd3.format(\",.3f\")\n)}\n\nfunction _levenshtein(require){return(\nrequire('fast-levenshtein@2.0.6')\n)}\n\nfunction _vegalite(require){return(\nrequire(\"@observablehq/vega-lite@0.2\")\n)}\n\nfunction _deepcopy(){return(\nfunction(d) {\nreturn JSON.parse(JSON.stringify(d) )\n}\n)}\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer(\"title\")).define(\"title\", [\"md\"], _title);\n  main.variable(observer(\"out_1\")).define(\"out_1\", [\"md\"], _out_1);\n  main.variable(observer(\"out_2\")).define(\"out_2\", [\"md\"], _out_2);\n  main.variable(observer(\"out_3\")).define(\"out_3\", [\"md\"], _out_3);\n  main.variable(observer(\"viewof left_table_csv\")).define(\"viewof left_table_csv\", [\"textarea\",\"data_left_template\"], _left_table_csv);\n  main.variable(observer(\"left_table_csv\")).define(\"left_table_csv\", [\"Generators\", \"viewof left_table_csv\"], (G, _) => G.input(_));\n  main.variable(observer(\"out_4\")).define(\"out_4\", [\"md\",\"table\",\"data_left\"], _out_4);\n  main.variable(observer(\"out_5\")).define(\"out_5\", [\"md\"], _out_5);\n  main.variable(observer(\"viewof right_table_csv\")).define(\"viewof right_table_csv\", [\"textarea\",\"data_right_template\"], _right_table_csv);\n  main.variable(observer(\"right_table_csv\")).define(\"right_table_csv\", [\"Generators\", \"viewof right_table_csv\"], (G, _) => G.input(_));\n  main.variable(observer(\"out_6\")).define(\"out_6\", [\"md\",\"table\",\"data_right\"], _out_6);\n  main.variable(observer(\"out_7\")).define(\"out_7\", [\"md\"], _out_7);\n  main.variable(observer(\"viewof match_pairs_csv\")).define(\"viewof match_pairs_csv\", [\"textarea\",\"match_pairs_template\"], _match_pairs_csv);\n  main.variable(observer(\"match_pairs_csv\")).define(\"match_pairs_csv\", [\"Generators\", \"viewof match_pairs_csv\"], (G, _) => G.input(_));\n  main.variable(observer(\"out_8\")).define(\"out_8\", [\"md\",\"html\",\"table\",\"match_pairs\",\"combinations\"], _out_8);\n  main.variable(observer(\"out_9\")).define(\"out_9\", [\"md\",\"num_fmt\",\"true_lambda\",\"tex\"], _out_9);\n  main.variable(observer(\"out_10\")).define(\"out_10\", [\"md\",\"table\",\"comparison_vectors\"], _out_10);\n  main.variable(observer(\"out_11\")).define(\"out_11\", [\"md\",\"tex\"], _out_11);\n  main.variable(observer(\"out_12\")).define(\"out_12\", [\"md\",\"tex\"], _out_12);\n  main.variable(observer(\"viewof lambda\")).define(\"viewof lambda\", [\"slider\"], _lambda);\n  main.variable(observer(\"lambda\")).define(\"lambda\", [\"Generators\", \"viewof lambda\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof pi1_1_m1\")).define(\"viewof pi1_1_m1\", [\"slider\"], _pi1_1_m1);\n  main.variable(observer(\"pi1_1_m1\")).define(\"pi1_1_m1\", [\"Generators\", \"viewof pi1_1_m1\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof pi1_1_m0\")).define(\"viewof pi1_1_m0\", [\"slider\"], _pi1_1_m0);\n  main.variable(observer(\"pi1_1_m0\")).define(\"pi1_1_m0\", [\"Generators\", \"viewof pi1_1_m0\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof pi2_1_m1\")).define(\"viewof pi2_1_m1\", [\"slider\"], _pi2_1_m1);\n  main.variable(observer(\"pi2_1_m1\")).define(\"pi2_1_m1\", [\"Generators\", \"viewof pi2_1_m1\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof pi2_05_m1\")).define(\"viewof pi2_05_m1\", [\"slider\"], _pi2_05_m1);\n  main.variable(observer(\"pi2_05_m1\")).define(\"pi2_05_m1\", [\"Generators\", \"viewof pi2_05_m1\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof pi2_1_m0\")).define(\"viewof pi2_1_m0\", [\"slider\"], _pi2_1_m0);\n  main.variable(observer(\"pi2_1_m0\")).define(\"pi2_1_m0\", [\"Generators\", \"viewof pi2_1_m0\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof pi2_05_m0\")).define(\"viewof pi2_05_m0\", [\"slider\"], _pi2_05_m0);\n  main.variable(observer(\"pi2_05_m0\")).define(\"pi2_05_m0\", [\"Generators\", \"viewof pi2_05_m0\"], (G, _) => G.input(_));\n  main.variable(observer(\"out_13\")).define(\"out_13\", [\"md\",\"num_fmt\",\"log_likelihood\"], _out_13);\n  main.variable(observer(\"out_14\")).define(\"out_14\", [\"md\"], _out_14);\n  main.variable(observer(\"ll_chart\")).define(\"ll_chart\", [\"log_likelihood\",\"history_ll\",\"vl\"], _ll_chart);\n  main.variable(observer(\"out_15\")).define(\"out_15\", [\"md\",\"tex\"], _out_15);\n  main.variable(observer(\"pi_chart_1\")).define(\"pi_chart_1\", [\"pi1_1_m1\",\"pi1_1_m0\",\"vl\"], _pi_chart_1);\n  main.variable(observer(\"out_16\")).define(\"out_16\", [\"md\",\"tex\"], _out_16);\n  main.variable(observer(\"pi_chart_2\")).define(\"pi_chart_2\", [\"pi2_1_m1\",\"pi2_05_m1\",\"pi2_1_m0\",\"pi2_05_m0\",\"vl\"], _pi_chart_2);\n  main.variable(observer(\"out_17\")).define(\"out_17\", [\"md\",\"tex\",\"html\"], _out_17);\n  main.variable(observer(\"out_18\")).define(\"out_18\", [\"combinations\",\"get_comparison_vector\",\"deepcopy\",\"num_fmt\",\"get_estimated_match_probability\",\"table\"], _out_18);\n  main.variable(observer(\"out_19\")).define(\"out_19\", [\"md\"], _out_19);\n  main.variable(observer(\"data_left_template\")).define(\"data_left_template\", _data_left_template);\n  main.variable(observer(\"data_right_template\")).define(\"data_right_template\", _data_right_template);\n  main.variable(observer(\"data_left\")).define(\"data_left\", [\"mutable history_ll\",\"d3\",\"left_table_csv\"], _data_left);\n  main.variable(observer(\"data_right\")).define(\"data_right\", [\"mutable history_ll\",\"d3\",\"right_table_csv\"], _data_right);\n  main.variable(observer(\"match_pairs_template\")).define(\"match_pairs_template\", _match_pairs_template);\n  main.variable(observer(\"matches\")).define(\"matches\", [\"mutable history_ll\",\"d3\",\"match_pairs_csv\"], _matches);\n  main.variable(observer(\"combinations\")).define(\"combinations\", [\"db\",\"alasql\",\"sql_with_cols\"], _combinations);\n  main.variable(observer()).define([\"md\"], _41);\n  main.variable(observer(\"get_comparison_vector\")).define(\"get_comparison_vector\", [\"month_of_birth\",\"surname\"], _get_comparison_vector);\n  main.variable(observer(\"month_of_birth\")).define(\"month_of_birth\", _month_of_birth);\n  main.variable(observer(\"surname\")).define(\"surname\", [\"levenshtein\"], _surname);\n  main.variable(observer(\"comparison_vectors\")).define(\"comparison_vectors\", [\"combinations\",\"get_comparison_vector\"], _comparison_vectors);\n  main.variable(observer(\"match_pairs\")).define(\"match_pairs\", [\"db\",\"sql_with_cols\"], _match_pairs);\n  main.variable(observer(\"real_matches\")).define(\"real_matches\", [\"matches\"], _real_matches);\n  main.variable(observer()).define([\"md\"], _48);\n  main.variable(observer(\"true_lambda\")).define(\"true_lambda\", [\"combinations\",\"sql_return_scalar\"], _true_lambda);\n  main.variable(observer(\"pi_surname\")).define(\"pi_surname\", [\"pi2_1_m1\",\"pi2_05_m1\",\"pi2_1_m0\",\"pi2_05_m0\"], _pi_surname);\n  main.variable(observer(\"pi_mob\")).define(\"pi_mob\", [\"pi1_1_m1\",\"pi1_1_m0\"], _pi_mob);\n  main.variable(observer(\"get_estimated_match_probability\")).define(\"get_estimated_match_probability\", [\"lambda\",\"pi_mob\",\"pi_surname\"], _get_estimated_match_probability);\n  main.variable(observer(\"log_likelihood\")).define(\"log_likelihood\", [\"lambda\",\"pi_mob\",\"pi_surname\",\"comparison_vectors\"], _log_likelihood);\n  main.variable(observer()).define([\"md\"], _54);\n  main.define(\"initial history_ll\", _history_ll);\n  main.variable(observer(\"mutable history_ll\")).define(\"mutable history_ll\", [\"Mutable\", \"initial history_ll\"], (M, _) => new M(_));\n  main.variable(observer(\"history_ll\")).define(\"history_ll\", [\"mutable history_ll\"], _ => _.generator);\n  main.variable(observer()).define([\"history_ll\",\"log_likelihood\"], _56);\n  main.variable(observer(\"db\")).define(\"db\", [\"alasql\",\"data_left\",\"data_right\",\"matches\"], _db);\n  main.variable(observer()).define([\"md\"], _58);\n  main.variable(observer(\"sql_with_cols\")).define(\"sql_with_cols\", [\"alasql\"], _sql_with_cols);\n  main.variable(observer(\"table\")).define(\"table\", [\"html\"], _table);\n  main.variable(observer(\"alasql\")).define(\"alasql\", [\"require\"], _alasql);\n  main.variable(observer(\"sql_return_scalar\")).define(\"sql_return_scalar\", [\"alasql\"], _sql_return_scalar);\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], _d3);\n  main.variable(observer(\"num_fmt\")).define(\"num_fmt\", [\"d3\"], _num_fmt);\n  main.variable(observer(\"levenshtein\")).define(\"levenshtein\", [\"require\"], _levenshtein);\n  const child1 = runtime.module(define1);\n  main.import(\"slider\", child1);\n  main.import(\"textarea\", child1);\n  const child2 = runtime.module(define2);\n  main.import(\"vl\", child2);\n  main.variable(observer(\"vegalite\")).define(\"vegalite\", [\"require\"], _vegalite);\n  main.variable(observer(\"deepcopy\")).define(\"deepcopy\", _deepcopy);\n  return main;\n}\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport React from \"react\";\nimport {MDXLayout} from \"../components/MDXLayout\";\nimport {SEO} from \"../components/SEO\";\nexport const Head = props => React.createElement(SEO, {\n  frontmatter: props.pageContext.frontmatter\n});\nimport notebook from '@robinl/unsupervised-probabalistic-data-matching-using-the-expec';\nimport ObservableNotebook from '../components/ObservableNotebook';\nexport const output_order = [\"title\", \"out_1\", \"out_2\", \"out_3\", \"viewof left_table_csv\", \"out_4\", \"out_5\", \"viewof right_table_csv\", \"out_6\", \"out_7\", \"viewof match_pairs_csv\", \"out_8\", \"out_9\", \"out_10\", \"out_11\", \"out_12\", \"viewof lambda\", \"viewof pi1_1_m1\", \"viewof pi1_1_m0\", \"viewof pi2_1_m1\", \"viewof pi2_05_m1\", \"viewof pi2_1_m0\", \"viewof pi2_05_m0\", \"out_13\", \"out_14\", \"ll_chart\", \"out_15\", \"pi_chart_1\", \"out_16\", \"pi_chart_2\", \"out_17\", \"out_18\", \"out_19\"];\nfunction _createMdxContent(props) {\n  return React.createElement(ObservableNotebook, {\n    notebook: notebook,\n    cells: output_order\n  });\n}\nfunction MDXContent(props = {}) {\n  return React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props));\n}\nexport default MDXContent;\n","import React, { useRef, useEffect } from 'react';\nimport { Runtime, Inspector, Library } from '@observablehq/runtime';\n\nconst mountId = 'mdx-container-div';\n\nconst stdlib = new Library();\n\nconst library = Object.assign({}, stdlib, { width: width_mdx });\n\nfunction width_mdx() {\n    return stdlib.Generators.observe(notify => {\n        let width1 = notify(document.getElementById(mountId).clientWidth);\n        function resized() {\n            let width2 = document.getElementById(mountId).clientWidth;\n            if (width2 !== width1) notify((width1 = width2));\n        }\n\n        window.addEventListener('resize', resized);\n        return () => window.removeEventListener('resize', resized);\n    });\n}\n\nfunction ObservableNotebook({ notebook, cells, customClassName }) {\n    const refs = useRef(cells.map(() => React.createRef()));\n\n    useEffect(() => {\n        const runtime = new Runtime(library);\n        runtime.module(notebook, name => {\n            const index = cells.indexOf(name);\n            if (index !== -1) {\n                return new Inspector(refs.current[index].current);\n            }\n        });\n        return () => runtime.dispose();\n    }, [notebook, cells]);\n\n    return (\n        <div className={customClassName}>\n            {refs.current.map((ref, index) => (\n                <div key={index} ref={ref} />\n            ))}\n        </div>\n    );\n}\n\nexport default ObservableNotebook;\n","import { graphql, useStaticQuery } from 'gatsby';\n\nexport const useSiteMetadata = () => {\n    const data = useStaticQuery(graphql`\n        query {\n            site {\n                siteMetadata {\n                    title\n                    description\n                    twitterUsername\n                    image\n                    siteUrl\n                }\n            }\n        }\n    `);\n\n    return data.site.siteMetadata;\n};\n","import React from 'react';\nimport { useSiteMetadata } from '../hooks/use-site-metadata';\n\nexport const SEO = ({ frontmatter }) => {\n    const {\n        title: defaultTitle,\n        description: defaultDescription,\n        image,\n        siteUrl,\n        twitterUsername,\n    } = useSiteMetadata();\n\n    const seo = {\n        title: frontmatter?.title || defaultTitle,\n        description: frontmatter?.description || defaultDescription,\n        image: `${siteUrl}${frontmatter?.image || image}`,\n        url: `${siteUrl}${frontmatter?.pathname || ``}`,\n        twitterUsername,\n        ...frontmatter,\n    };\n\n    const stylesheetLink = frontmatter?.stylesheet;\n\n    return (\n        <>\n            <title>{seo.title}</title>\n            <meta name=\"description\" content={seo.description} />\n            <meta name=\"image\" content={seo.image} />\n            {stylesheetLink && (\n                <link\n                    rel=\"stylesheet\"\n                    type=\"text/css\"\n                    href={`/styles/${stylesheetLink}`}\n                />\n            )}\n        </>\n    );\n};\n"],"names":["_2","md","_sliderDemo","_a","slider","_a1","min","max","step","format","description","_a1_1","v","Math","round","_a2","value","_a3","title","_a4","precision","_a5","submit","_11","_slider","input","config","getValue","display","pow","valueAsNumber","type","attributes","_buttonDemo","_b","button","_15","b","this","_b1","_17","b1","Date","now","toUTCString","_button","disabled","form","output","remove","_selectDemo","_dd","select","_21","dd","_dd1","options","_23","dd1","_dd2","multiple","_25","dd2","_dd3","dd3","label","style","fontSize","marginTop","_27","_select","html","formValue","size","Array","isArray","map","o","selected","prototype","filter","call","i","length","Object","assign","includes","textContent","_autoSelectDemo","_as","autoSelect","usa","objects","states","geometries","d","properties","name","placeholder","_31","as","_autoSelect","autocomplete","list","optionsSet","Set","action","fm","onsubmit","e","preventDefault","oninput","stopPropagation","has","dispatchEvent","CustomEvent","_colorDemo","_c","color","_c1","_color","margin","_coordinatesDemo","_coords1","coordinates","_39","coords1","_coords2","_41","coords2","_coordinates","lon","lat","lonEl","latEl","isNaN","_worldMapCoordinatesDemo","_worldMap1","worldMapCoordinates","_45","worldMap1","_worldMapCoordinates","DOM","d3geo","graticule","land","countries","width","height","formEl","context","context2d","canvas","projection","geoNaturalEarth1","fitSize","path","geoPath","pointRadius","draw","fillStyle","fillRect","beginPath","lineWidth","strokeStyle","stroke","fill","pointPath","append","onclick","ev","offsetX","offsetY","coords","invert","toFixed","bubbles","_usaMapCoordinatesDemo","_usaMap1","usaMapCoordinates","_49","usaMap1","_usaMap2","_51","usaMap2","_usaMapCoordinates","nation","scale","geoAlbersUsa","translate","clearRect","save","restore","_dateDemo","_d","date","_d1","_date","_timeDemo","_t","time","_59","t","_t1","_61","t1","_time","el","undefined","_fileDemo","_e","file","_e1","accept","async","_66","e1","Files","div","j","img","src","url","_file","onchange","files","_textDemo","_f","text","_f1","_71","f1","_f2","_73","f2","_text","maxlength","minlength","pattern","_textareaDemo","_g","textarea","_77","g","_g1","spellcheck","rows","_79","g1","_textarea","cols","wrap","_radioDemo","_r","radio","_83","r","_r1","_85","r1","_radio","checked","find","setAttribute","_checkboxDemo","_ch","checkbox","_89","ch","_ch1","_91","ch1","_ch3","_93","ch3","_checkbox","indexOf","_numberDemo","_h","number","_97","h","_h1","_99","h1","_number","_passwordDemo","_i","password","_103","_i1","_105","i1","_password","_107","_input","d3format","wrapper","keys","forEach","key","val","prepend","verb","out","window","Element","hasChildNodes","removeChild","lastChild","childNodes","appendChild","_d3geo","require","_d3format","_topojson","_world","fetch","json","_land","topojson","world","feature","_countries","_usa","_nation","_states","_graticule","geoGraticule10","_license","license","_120","runtime","observer","main","module","variable","define","G","_","_1","_3","_vl","vega","vegalite","api","tooltip","Promise","all","view","continuousWidth","continuousHeight","mark","init","Handler","container","loader","baseURL","renderer","register","_5","_zip_codes","_7","vl","markSquare","opacity","data","transform","calculate","project","encode","longitude","fieldQ","latitude","fieldN","floor","autosize","contains","render","_interactive_weather","_9","brush","selectInterval","encodings","click","selectMulti","domain","range","plot1","markPoint","filled","if","order","sort","x","timeMD","axis","y","plot2","markBar","count","vconcat","_parallel_coordinats","lines","markLine","strokeWidth","detail","fieldO","padding","ticks","grid","gridColor","labelAngle","labelPadding","labelFontWeight","labels","markText","dx","align","baseline","groupby","aggregate","fold","percent_rank","field","layer","row_number","join","_standalone_use","_title","_out_1","_out_2","_out_3","_left_table_csv","data_left_template","_out_4","table","data_left","_out_5","_right_table_csv","data_right_template","_out_6","data_right","_out_7","_match_pairs_csv","match_pairs_template","_out_8","match_pairs","combinations","_out_9","num_fmt","true_lambda","tex","_out_10","comparison_vectors","_out_11","_out_12","_lambda","_pi1_1_m1","_pi1_1_m0","_pi2_1_m1","_pi2_05_m1","_pi2_1_m0","_pi2_05_m0","_out_13","log_likelihood","_out_14","_ll_chart","history_ll","_out_15","_pi_chart_1","pi1_1_m1","pi1_1_m0","column","_out_16","_pi_chart_2","pi2_1_m1","pi2_05_m1","pi2_1_m0","pi2_05_m0","_out_17","_out_18","get_comparison_vector","deepcopy","get_estimated_match_probability","c","cv","columns","_out_19","_data_left_template","_data_right_template","_data_left","$0","d3","left_table_csv","csvParse","_data_right","right_table_csv","_match_pairs_template","_matches","match_pairs_csv","_combinations","db","alasql","sql_with_cols","combinations_data","tables","_get_comparison_vector","month_of_birth","surname","row","_month_of_birth","mob_l","mob_r","_surname","levenshtein","surname_l","surname_r","get","_comparison_vectors","cvs","_match_pairs","_real_matches","matches","match","_48","_true_lambda","sql_return_scalar","_pi_surname","_pi_mob","_get_estimated_match_probability","lambda","pi_mob","pi_surname","comparison_vector","gamma1","prob_match_1","prob_no_match_1","prob_match_2","prob_no_match_2","_log_likelihood","log_probability_of_element_of_gamma","elem","pi","prob","log","ln_prob_1","log_probability_of_comparison","reduce","a","_54","_history_ll","_56","push","_db","df_l","df_r","_58","_sql_with_cols","sql","tab","_table","_alasql","_sql_return_scalar","result","_d3","_num_fmt","_levenshtein","_vegalite","_deepcopy","JSON","parse","stringify","M","generator","child1","import","child2","Head","props","React","SEO","frontmatter","pageContext","output_order","_createMdxContent","ObservableNotebook","notebook","cells","MDXLayout","mountId","stdlib","Library","library","Generators","observe","notify","width1","document","getElementById","clientWidth","resized","width2","addEventListener","removeEventListener","_ref","customClassName","refs","useRef","useEffect","Runtime","index","Inspector","current","dispose","className","ref","defaultTitle","defaultDescription","image","siteUrl","twitterUsername","useStaticQuery","site","siteMetadata","seo","pathname","stylesheetLink","stylesheet","content","rel","href"],"sourceRoot":""}
"use strict";(self.webpackChunkrobinlinacre=self.webpackChunkrobinlinacre||[]).push([[8865],{7596:function(e,t,r){r.r(t),r.d(t,{Head:function(){return f},default:function(){return p}});var a=r(1151),n=r(7294),l=r(7848),c=r(7825),s=r(4160),o=r(6204),m=r(4733),i=r(745);var d=e=>{let{frontmatter:t,html:r}=e;const a=(e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?e:new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",timeZone:"UTC"}).format(t)})(t.date),{0:l,1:c}=(0,n.useState)({processedHtml:r,codeBlocks:[]}),s=(0,n.useRef)(null),d=(u=t.title||t.date||"")?String(u).toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""):"";var u;return(0,n.useEffect)((()=>{const e=(e=>{if("undefined"==typeof window||!e)return{processedHtml:e,codeBlocks:[]};const t=(new DOMParser).parseFromString(e,"text/html"),r=[];return t.querySelectorAll("pre > code").forEach(((e,t)=>{const a=Array.from(e.classList).find((e=>e.startsWith("language-"))),n=e.textContent,l=document.createElement("div");l.setAttribute("data-code-block-id",t),e.parentElement.replaceWith(l),r.push({id:t,code:n,language:a||"language-text"})})),{processedHtml:t.body.innerHTML,codeBlocks:r}})(r);c(e)}),[r]),(0,n.useEffect)((()=>{if(!s.current)return;s.current.querySelectorAll("[data-code-block-id]").forEach((e=>{const t=parseInt(e.getAttribute("data-code-block-id"),10),r=l.codeBlocks.find((e=>e.id===t));if(r){const t=document.createElement("div");t.className="my-4";(0,i.createRoot)(t).render(n.createElement(m.Z,{className:r.language},r.code)),e.replaceWith(t)}}))}),[l,s.current]),n.createElement("div",{className:"my-8",id:d},n.createElement("article",{className:"py-4 px-6 bg-gray-50 rounded shadow-sm"},t.title&&n.createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-2"},n.createElement("a",{href:`#${d}`,className:"text-inherit hover:underline focus:underline focus:outline-none"},t.title)),n.createElement("div",{className:"text-gray-700 mb-4"},n.createElement("div",{ref:s,className:"space-y-4 prose max-w-none",dangerouslySetInnerHTML:{__html:l.processedHtml}})),n.createElement("footer",{className:"text-sm flex items-center flex-wrap gap-4 text-gray-600"},a&&n.createElement("div",{className:"flex items-center"},n.createElement(o.XdU,{className:"w-3 h-3 mr-2"}),n.createElement("span",null,a)),t.tags&&t.tags.length>0&&n.createElement("div",{className:"flex items-center"},n.createElement(o.YxP,{className:"w-3 h-3 mr-2"}),n.createElement("div",{className:"flex gap-2"},t.tags.map((e=>n.createElement("span",{key:e,className:"bg-gray-200 px-2 py-0.5 rounded-full text-xs"},e))))))))};var u=()=>{const{0:e,1:t}=(0,n.useState)(new Set);(0,n.useEffect)((()=>{if("undefined"==typeof window)return;const e=new URLSearchParams(window.location.search).get("tags");e&&t(new Set(e.split(",")))}),[]);const r=(0,s.K2)("4233821472"),a=(0,n.useMemo)((()=>{const e=new Set;return r.allMarkdownRemark.nodes.forEach((t=>{t.frontmatter.tags&&t.frontmatter.tags.forEach((t=>e.add(t)))})),Array.from(e).sort()}),[r]),l=e=>{t((t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),(e=>{if("undefined"==typeof window)return;const t=new URLSearchParams;e.size>0&&t.set("tags",Array.from(e).join(","));const r=t.toString();(0,s.c4)(`${window.location.pathname}${r?"?"+r:""}`,{replace:!0})})(r),r}))},c=r.allMarkdownRemark.nodes.filter((t=>0===e.size||t.frontmatter.tags&&t.frontmatter.tags.some((t=>e.has(t)))));return n.createElement("div",{className:"max-w-3xl mx-auto"},n.createElement("div",{className:"mb-6"},n.createElement("div",{className:"flex gap-2 flex-wrap"},a.map((t=>n.createElement("button",{key:t,onClick:()=>l(t),className:"px-3 py-1 text-sm rounded-full border transition-colors\n                                "+(e.has(t)?"bg-green-500 text-white border-green-500":"bg-white text-gray-600 border-gray-300 hover:border-green-500")},t))))),c.map(((e,t)=>{const r=(a=e.frontmatter.title||e.frontmatter.date||"")?String(a).toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""):"";var a;return n.createElement("div",{key:t,id:r,className:"my-8"},n.createElement(d,{frontmatter:e.frontmatter,html:e.html}))})))};const f=e=>n.createElement(c.H,{frontmatter:e.pageContext.frontmatter});function g(e){const t=Object.assign({h1:"h1"},(0,a.ah)(),e.components);return n.createElement(n.Fragment,null,n.createElement(t.h1,null,"Microblog"),"\n",n.createElement(u))}var p=function(e){return void 0===e&&(e={}),n.createElement(l.fE,e,n.createElement(g,e))}},7825:function(e,t,r){r.d(t,{H:function(){return l}});var a=r(7294),n=r(4160);const l=e=>{let{frontmatter:t}=e;const{title:r,description:l,image:c,siteUrl:s,twitterUsername:o}=(0,n.K2)("1865044719").site.siteMetadata,m={title:(null==t?void 0:t.title)||r,description:(null==t?void 0:t.description)||l,image:`${s}${(null==t?void 0:t.image)||c}`,url:`${s}${(null==t?void 0:t.pathname)||""}`,twitterUsername:o,...t},i=null==t?void 0:t.stylesheet;return a.createElement(a.Fragment,null,a.createElement("title",null,m.title),a.createElement("meta",{name:"description",content:m.description}),a.createElement("meta",{name:"image",content:m.image}),i&&a.createElement("link",{rel:"stylesheet",type:"text/css",href:`/styles/${i}`}))}}}]);
//# sourceMappingURL=component---src-mdx-microblog-mdx-16c7972e8dba5891e6c6.js.map
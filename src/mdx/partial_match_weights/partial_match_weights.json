{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "discreteHeight": 60, "discreteWidth": 400}, "header": {"title": null}, "mark": {"tooltip": null}, "title": {"anchor": "middle"}}, "vconcat": [{"mark": {"type": "bar", "clip": true}, "encoding": {"color": {"field": "log2_bayes_factor", "legend": null, "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "row": {"field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".4f", "title": "M probability", "type": "quantitative"}, {"field": "u_probability", "format": ".4f", "title": "U probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.4f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Match weight = log2(m/u)", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"title": "Partial match"}, "field": "log2_bayes_factor", "scale": {"domain": [-14, 14]}, "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}}], "data": {"name": "my_data"}, "datasets": {"my_data": [{"comparison_name": "first_name", "sql_condition": "\"first_name_l\" = \"first_name_r\"", "label_for_charts": "Exact match", "m_probability": 0.85, "u_probability": 0.005281327832751541, "m_probability_description": "Amongst matching record comparisons, 85.00% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.53% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 160.94437363437726, "log2_bayes_factor": 7.33041833309133, "comparison_vector_value": 2, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `exact match` then comparison is 160.94 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_similarity(\"first_name_l\", \"first_name_r\") >= 0.9", "label_for_charts": "Jaro_similarity >= 0.9", "m_probability": 0.05, "u_probability": 0.0006173729913740877, "m_probability_description": "Amongst matching record comparisons, 5.00% of records are in the jaro_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.06% of records are in the jaro_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 80.98831775700934, "log2_bayes_factor": 6.339641914865789, "comparison_vector_value": 1, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `jaro_similarity >= 0.9` then comparison is 80.99 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.1, "u_probability": 0.9941012991758744, "m_probability_description": "Amongst matching record comparisons, 10.00% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.41% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.1005933701956748, "log2_bayes_factor": -3.3133928702708424, "comparison_vector_value": 0, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  9.94 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "surname", "sql_condition": "\"surname_l\" = \"surname_r\"", "label_for_charts": "Exact match", "m_probability": 0.8, "u_probability": 0.0005474103025083819, "m_probability_description": "Amongst matching record comparisons, 80.00% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.05% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 1461.426641651032, "log2_bayes_factor": 10.513161697533418, "comparison_vector_value": 2, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `exact match` then comparison is 1,461.43 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_similarity(\"surname_l\", \"surname_r\") >= 0.9", "label_for_charts": "Jaro_similarity >= 0.9", "m_probability": 0.15, "u_probability": 0.0002819214409728909, "m_probability_description": "Amongst matching record comparisons, 15.00% of records are in the jaro_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.03% of records are in the jaro_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 532.0631147540984, "log2_bayes_factor": 9.055453582008552, "comparison_vector_value": 1, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `jaro_similarity >= 0.9` then comparison is 532.06 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.05, "u_probability": 0.9991706682565187, "m_probability_description": "Amongst matching record comparisons, 5.00% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.92% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.05004150100527513, "log2_bayes_factor": -4.320731125682878, "comparison_vector_value": 0, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  19.98 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "postcode", "sql_condition": "\"postcode_l\" = \"postcode_r\"", "label_for_charts": "Exact match", "m_probability": 0.3, "u_probability": 2.0252537896155113e-05, "m_probability_description": "Amongst matching record comparisons, 30.00% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.00% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 14812.958333333332, "log2_bayes_factor": 13.854572173222605, "comparison_vector_value": 2, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `exact match` then comparison is 14,812.96 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "postcode", "sql_condition": "levenshtein(\"postcode_l\", \"postcode_r\") <= 1", "label_for_charts": "Levenshtein <= 1", "m_probability": 0.3, "u_probability": 7.032131213942747e-05, "m_probability_description": "Amongst matching record comparisons, 30.00% of records are in the levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.01% of records are in the levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 4266.132, "log2_bayes_factor": 12.05871289000283, "comparison_vector_value": 1, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `levenshtein <= 1` then comparison is 4,266.13 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "postcode", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.4, "u_probability": 0.9999094261499644, "m_probability_description": "Amongst matching record comparisons, 40.00% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.99% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.40003623282176043, "log2_bayes_factor": -1.3217974185250618, "comparison_vector_value": 0, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  2.50 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "gender", "sql_condition": "\"gender_l\" = \"gender_r\"", "label_for_charts": "Exact match", "m_probability": 0.995, "u_probability": 0.7104093606314641, "m_probability_description": "Amongst matching record comparisons, 99.50% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 71.04% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 1.4006009142609985, "log2_bayes_factor": 0.48604593432916016, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match` then comparison is 1.40 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 3}, {"comparison_name": "gender", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.005, "u_probability": 0.2895906393685359, "m_probability_description": "Amongst matching record comparisons, 0.50% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 28.96% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.017265751444531158, "log2_bayes_factor": -5.855943064867705, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  57.92 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 3}]}, "params": [{"name": "mouse_zoom", "select": {"type": "interval", "encodings": ["x"]}, "bind": "scales", "views": []}], "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "title": "Partial match weights", "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json"}
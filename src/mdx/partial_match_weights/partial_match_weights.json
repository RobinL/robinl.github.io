{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "discreteHeight": 60, "discreteWidth": 400}, "header": {"title": null}, "mark": {"tooltip": null}, "title": {"anchor": "middle"}}, "vconcat": [{"mark": {"type": "bar", "clip": true, "height": 15}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "probability_two_random_records_match", "format": ".4f", "title": "Probability two random records match", "type": "nominal"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Equivalent match weight", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"domain": false, "labels": false, "ticks": false, "title": ""}, "field": "log2_bayes_factor", "scale": {"domain": [-16, 16]}, "type": "quantitative"}, "y": {"axis": {"title": "Prior (starting) match weight", "titleAlign": "right", "titleAngle": 0, "titleFontWeight": "normal"}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": 20, "transform": [{"filter": "(datum.comparison_name == 'probability_two_random_records_match')"}]}, {"mark": {"type": "bar", "clip": true}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "row": {"field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".4f", "title": "M probability", "type": "quantitative"}, {"field": "u_probability", "format": ".4f", "title": "U probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.4f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Match weight = log2(m/u)", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"title": "Comparison level match weight = log2(m/u)"}, "field": "log2_bayes_factor", "scale": {"domain": [-16, 16]}, "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "transform": [{"filter": "(datum.comparison_name != 'probability_two_random_records_match')"}]}], "data": {"name": "data-9a00a9576a94e740482fe46fa1d996e5"}, "datasets": {"data-9a00a9576a94e740482fe46fa1d996e5": [{"comparison_name": "probability_two_random_records_match", "sql_condition": null, "label_for_charts": "", "m_probability": null, "u_probability": null, "m_probability_description": null, "u_probability_description": null, "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": null, "is_null_level": false, "bayes_factor": 0.00010001000100010001, "log2_bayes_factor": -13.287568102831404, "comparison_vector_value": 0, "max_comparison_vector_value": 0, "bayes_factor_description": "The probability that two random records drawn at random match is 0.000 or one in  10,000.0 records.This is equivalent to a starting match weight of -13.288.", "probability_two_random_records_match": 0.0001, "comparison_sort_order": -1}, {"comparison_name": "first_name", "sql_condition": "\"first_name_l\" = \"first_name_r\"", "label_for_charts": "Exact match", "m_probability": 0.6514897205029798, "u_probability": 0.00568845338648707, "m_probability_description": "Amongst matching record comparisons, 65.15% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.57% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 114.52844494614206, "log2_bayes_factor": 6.83956214867489, "comparison_vector_value": 2, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `exact match` then comparison is 114.53 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_similarity(\"first_name_l\", \"first_name_r\") >= 0.9", "label_for_charts": "Jaro_similarity >= 0.9", "m_probability": 0.040383667604195324, "u_probability": 0.0007900225061728095, "m_probability_description": "Amongst matching record comparisons, 4.04% of records are in the jaro_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.08% of records are in the jaro_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 51.11711032111002, "log2_bayes_factor": 5.675734377118319, "comparison_vector_value": 1, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `jaro_similarity >= 0.9` then comparison is 51.12 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.30812661189282486, "u_probability": 0.9935215241073401, "m_probability_description": "Amongst matching record comparisons, 30.81% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.35% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.31013581932175116, "log2_bayes_factor": -1.6890279343881407, "comparison_vector_value": 0, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  3.22 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 0}, {"comparison_name": "surname", "sql_condition": "\"surname_l\" = \"surname_r\"", "label_for_charts": "Exact match", "m_probability": 0.8273302919493217, "u_probability": 0.0005211047420531526, "m_probability_description": "Amongst matching record comparisons, 82.73% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.05% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 1587.6468302507485, "log2_bayes_factor": 10.632674307399752, "comparison_vector_value": 2, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `exact match` then comparison is 1,587.65 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_similarity(\"surname_l\", \"surname_r\") >= 0.9", "label_for_charts": "Jaro_similarity >= 0.9", "m_probability": 0.07663923856243773, "u_probability": 0.00023365488955459402, "m_probability_description": "Amongst matching record comparisons, 7.66% of records are in the jaro_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.02% of records are in the jaro_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 328.0018608150325, "log2_bayes_factor": 8.357560189316267, "comparison_vector_value": 1, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `jaro_similarity >= 0.9` then comparison is 328.00 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.0960304694882406, "u_probability": 0.9992452403683922, "m_probability_description": "Amongst matching record comparisons, 9.60% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.92% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.09610300415625397, "log2_bayes_factor": -3.3792746597789476, "comparison_vector_value": 0, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  10.41 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 1}, {"comparison_name": "dob", "sql_condition": "\"dob_l\" = \"dob_r\"", "label_for_charts": "Exact match", "m_probability": 0.649785977626103, "u_probability": 3.0075698592990906e-05, "m_probability_description": "Amongst matching record comparisons, 64.98% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.00% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 21605.016941403137, "log2_bayes_factor": 14.399078741755444, "comparison_vector_value": 2, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `exact match` then comparison is 21,605.02 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "levenshtein(\"dob_l\", \"dob_r\") <= 1", "label_for_charts": "Levenshtein <= 1", "m_probability": 0.3189309369687783, "u_probability": 0.0007674154060340583, "m_probability_description": "Amongst matching record comparisons, 31.89% of records are in the levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.08% of records are in the levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 415.59100125053254, "log2_bayes_factor": 8.699020605826801, "comparison_vector_value": 1, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `levenshtein <= 1` then comparison is 415.59 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.031283085405118725, "u_probability": 0.999202508895373, "m_probability_description": "Amongst matching record comparisons, 3.13% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.92% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.03130805329912797, "log2_bayes_factor": -4.997322383725704, "comparison_vector_value": 0, "max_comparison_vector_value": 2, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  31.94 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 2}, {"comparison_name": "gender", "sql_condition": "\"gender_l\" = \"gender_r\"", "label_for_charts": "Exact match", "m_probability": 0.9512635423975954, "u_probability": 0.6942550846107965, "m_probability_description": "Amongst matching record comparisons, 95.13% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 69.43% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 1.3701931227927258, "log2_bayes_factor": 0.4543792491416227, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match` then comparison is 1.37 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 3}, {"comparison_name": "gender", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.048736457602404665, "u_probability": 0.3057449153892034, "m_probability_description": "Amongst matching record comparisons, 4.87% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 30.57% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.15940234865513536, "log2_bayes_factor": -2.6492552085442105, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  6.27 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 3}, {"comparison_name": "postcode_fake", "sql_condition": "\"postcode_fake_l\" = \"postcode_fake_r\"", "label_for_charts": "Exact match", "m_probability": 0.7519439504660002, "u_probability": 1.869466379516631e-05, "m_probability_description": "Amongst matching record comparisons, 75.19% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.00% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 40222.3842431669, "log2_bayes_factor": 15.29571098167614, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match` then comparison is 40,222.38 times more likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 4}, {"comparison_name": "postcode_fake", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.24805604953399982, "u_probability": 0.9999813053362049, "m_probability_description": "Amongst matching record comparisons, 24.81% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 100.00% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.24806068694514305, "log2_bayes_factor": -2.0112349821613615, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  4.03 times less likely to be a match", "probability_two_random_records_match": 0.0001, "comparison_sort_order": 4}]}, "params": [{"name": "mouse_zoom", "select": {"type": "interval", "encodings": ["x"]}, "bind": "scales", "views": []}], "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "title": "Partial match weights", "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json"}
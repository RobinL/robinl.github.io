---
title: "An alternative way to think about predicted probabilities in the Fellegi Sunter model"
description: "A second equivalent mental model to help think about how we arrive at predicted probabilities in the Fellegi Sunter model"
post_date: "2025-02-18"
post_category: "probabilistic_linkage"
code_url: "https://github.com/RobinL/robinl.github.io/blob/dev/src/mdx/alternative_prob_random_match.mdx"
prob_linkage_category: "tutorial"
tutorial_number: 9
---

export { ProbLinkageLayout as default} from '../components/ProbLinkageLayout'
import { SEO } from "../components/SEO"
export const Head = ( props ) => <SEO frontmatter={props.pageContext.frontmatter} />;

import Subtitle from "../components/Subtitle"

import TutorialNav from '../components/TutorialNav';
import CompactTutorialNav from '../components/CompactTutorialNav';

export const Calc = ({ children }) => {
  let result;
  try {
    result = new Function(`return (${children})`)();
  } catch (error) {
    result = "Error";
  }

  return <>{result}</>;
};


# An alternative way to think about predicted probabilities in the Fellegi Sunter model

To compute match probability in the Fellegi Sunter model, we have so far thought about this calculation from the perspective of pairwise record comparisons.

We begin with the 'prior' - probability that two records drawn at random are a match.  This is equivalent to taking random draw from the set of all possible pairwise comparisons of records *add footnote here to clearify this is without replacement.

To compute the match probability, we observe information in the comparison (e.g. an exact match on first name), and update our beliefs using Bayesian conditioning. For example, if we observe an exact match on first name, then we are no longer in the space of all $$\frac{n(n-1)}{2}$$ comparisons, and instead need to restrict our attention to the subset of all comparisons where first name matches. In this subset, the probability of a match is higher.

There is an alternative and equivalent way to think about the computation of the match probability that may be more intuitive.  This explanation starts from the perspective of a single record.

Given this record, let's define two variables: **footnote* We will define these more precisely later

- $$s$$: how many records for the _same_ individual are there in the dataset?
- $$d$$ how many records for _different_ individuals who share the same information are there in the dataset?

With these to variables, it's straightforward to compute the probability of a match when observing a second record that matches the first:

$$
P(match) = \frac{s}{s+d}
$$

To clarify, let's look at an example:

Suppose we have a dataset of 100,000 records.  Each record has, on average, one duplicate, so there are 50,000 distinct individuals in this dataset.

Take an example record from this data.  Let's say we observe the full name 'John Smith', and that:

- 1 in 20 people are called John in the population
- 1 in 50 people are called Smith in the

In this example $$s = 1$$ because we assumed that each record has, on average, one duplicate.

How many records are there for in the dataset for _different_ John Smiths?

There are 50,000 distinct individuals in the dataset, so there are 49,998 records for different individuals

Amongst these 49,998 reecords there are:

$$d = 49,998 \times \frac{1}{20} \times \frac{1}{50} = 49.998$$ other John Smiths.

So if we find another "John Smith" in the dataset, the probability that this is a duplicate is:

$$ P(match) = \frac{s}{s+d} = \frac{1}{1+49.998} = $$ <Calc>1/(1+49.998)</Calc>







## What is the equivalent maths using our previous approach?




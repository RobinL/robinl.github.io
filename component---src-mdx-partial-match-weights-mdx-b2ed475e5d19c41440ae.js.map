{"version":3,"file":"component---src-mdx-partial-match-weights-mdx-b2ed475e5d19c41440ae.js","mappings":"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","sources":["webpack://robinlinacre/./node_modules/@robinl/partial-match-weights/8fa206ca7e295acc@509.js","webpack://robinlinacre/./src/mdx/partial_match_weights.mdx","webpack://robinlinacre/./src/components/CompactTutorialNav.jsx","webpack://robinlinacre/./src/components/InteractiveCallout.jsx","webpack://robinlinacre/./src/components/ObservableCells.jsx","webpack://robinlinacre/./src/components/ProbLinkageLayout.jsx","webpack://robinlinacre/./src/components/TutorialNav.jsx","webpack://robinlinacre/./node_modules/react-vega/esm/VegaLite.js"],"sourcesContent":["function _1(md){return(\nmd`# ## partial match weights draft`\n)}\n\nfunction _refresh(Inputs){return(\nInputs.button(\"refresh splink_vis_utils javascript lib\")\n)}\n\nfunction _input_table(html)\n{\n  const colour_mapping = {\n    domain: [\n      \"Prior\",\n      \"probability_two_random_records_match\",\n      \"first_name\",\n      \"surname\",\n      \"postcode\",\n      \"gender\",\n      \"Final score\"\n    ],\n    range: [\n      \"#1f77b4\",\n      \"#1f77b4\",\n      \"#ff7f0e\",\n      \"#2ca02c\",\n      \"#d62728\",\n      \"#9467bd\",\n      \"#17becf\"\n    ]\n  };\n\n  // Function to convert HEX to RGBA\n  function hexToRgba(hex, alpha = 1) {\n    const [r, g, b] = [\n      parseInt(hex.slice(1, 3), 16),\n      parseInt(hex.slice(3, 5), 16),\n      parseInt(hex.slice(5, 7), 16)\n    ];\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n  }\n\n  // Create a key-value mapping from domain to RGBA\n  const rgbaMapping = {};\n  colour_mapping.domain.forEach((key, i) => {\n    rgbaMapping[key] = [\n      hexToRgba(colour_mapping.range[i], 0.35),\n      hexToRgba(colour_mapping.range[i], 0.1)\n    ];\n  });\n\n  return html`\n  <table id=\"data-table\">\n    <tr>\n      <th style=\"background-color:${rgbaMapping[\"first_name\"][0]};\">first_name</th>\n      <th style=\"background-color:${rgbaMapping[\"surname\"][0]};\">surname</th>\n      <th style=\"background-color:${rgbaMapping[\"postcode\"][0]};\">postcode</th>\n      <th style=\"background-color:${rgbaMapping[\"gender\"][0]};\">gender</th>\n    </tr>\n    <tr contenteditable>\n      <td style=\"background-color:${rgbaMapping[\"first_name\"][1]};\">Robin</td>\n      <td style=\"background-color:${rgbaMapping[\"surname\"][1]};\">Linacre</td>\n      <td style=\"background-color:${rgbaMapping[\"postcode\"][1]};\">W1A 1AA</td>\n      <td style=\"background-color:${rgbaMapping[\"gender\"][1]};\">\n        <select>\n          <option value=\"male\">Male</option>\n          <option value=\"female\" selected>Female</option>\n          <option value=\"other\">Non-binary</option>\n        </select>\n      </td>\n    </tr>\n    <tr contenteditable>\n      <td style=\"background-color:${rgbaMapping[\"first_name\"][1]};\">Robyn</td>\n      <td style=\"background-color:${rgbaMapping[\"surname\"][1]};\">Linacre</td>\n      <td style=\"background-color:${rgbaMapping[\"postcode\"][1]};\">W1A 1AA</td>\n      <td style=\"background-color:${rgbaMapping[\"gender\"][1]};\">\n        <select>\n          <option value=\"male\" selected>Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"other\">Non-binary</option>\n        </select>\n      </td>\n    </tr>\n  </table>`;\n}\n\n\nfunction _partial_match_weights_highligh(embed,rlju,partial_match_weight_chart_data_raw_with_barisactive){return(\nembed(\n  rlju.charts.partial_match_weights_chart(\n    partial_match_weight_chart_data_raw_with_barisactive,\n    true\n  )\n)\n)}\n\nfunction _text_activated_categories(waterfall_data,html)\n{\n  const colorLookup = {\n    Prior: \"#1f77b4\",\n    probability_two_random_records_match: \"#1f77b4\",\n    first_name: \"#ff7f0e\",\n    surname: \"#2ca02c\",\n    postcode: \"#d62728\",\n    gender: \"#9467bd\",\n    \"Final score\": \"#17becf\"\n  };\n\n  let html_string = waterfall_data\n    .filter(\n      (item) =>\n        item.column_name !== \"Prior\" && item.column_name !== \"Final score\"\n    )\n    .map(\n      (item) => `\n    <li style=\"color: ${colorLookup[item.column_name] || \"#000\"};\">\n      <span style=\"display: inline-block; width: 120px; font-family: monospace;\">${\n        item.column_name\n      }</span>:   \n      <span style=\"font-family: monospace;\">'${item.value_l}'</span> \n      vs \n      <span style=\"font-family: monospace;\">'${item.value_r}'</span> \n      is categorised as ${item.label_for_charts}\n    </li>\n  `\n    )\n    .join(\"\");\n\n  return html`<ul>${html_string}</ul>`;\n}\n\n\nfunction _waterfall_highlight(rlju,tutorial_settings,comparison_vector,embed)\n{\n  let data = rlju.settingsToWaterfall(tutorial_settings, comparison_vector[0]);\n\n  let chart_spec = rlju.charts.waterfall_chart(data, true);\n\n  return embed(chart_spec);\n}\n\n\nfunction _waterfall_as_formula(waterfall_data,tex)\n{\n  const colorMap = {\n    Prior: \"#1f77b4\",\n    probability_two_random_records_match: \"#1f77b4\",\n    first_name: \"#ff7f0e\",\n    surname: \"#2ca02c\",\n    postcode: \"#d62728\",\n    gender: \"#9467bd\",\n    \"Final score\": \"#17becf\"\n  };\n\n  let coloredFormula = waterfall_data\n    .filter((data) => data.column_name !== \"Final score\")\n    .map((data) => {\n      let color = colorMap[data.column_name];\n      return `\\\\textcolor{${color}}{\\\\omega_{\\\\text{${data.column_name.replace(\n        /_/g,\n        \"\\\\_\"\n      )}}}} &+&`;\n    })\n    .join(\" \")\n    .slice(0, -3);\n\n  let formula = `\n\\\\begin{array}{rcl rcl rcl rcl}\n${coloredFormula} &=& \\\\textcolor{${colorMap[\"Final score\"]}}{\\\\text{Final match weight}} \\\\\\\\[2ex]\n`;\n\n  let finalScore = waterfall_data.find(\n    (data) => data.column_name === \"Final score\"\n  ).log2_bayes_factor;\n\n  let finalScoreRounded = finalScore.toFixed(2);\n\n  let interpolation = waterfall_data\n    .filter((data) => data.column_name !== \"Final score\")\n    .map((data) => {\n      let num = data.log2_bayes_factor.toFixed(2);\n      let color = colorMap[data.column_name];\n      return num >= 0\n        ? `\\\\textcolor{${color}}{${num}} &+&`\n        : `\\\\textcolor{${color}}{${num}} &+&`;\n    })\n    .join(\" \")\n    .slice(0, -3);\n\n  formula += `${interpolation} &=& \\\\textcolor{${colorMap[\"Final score\"]}}{${finalScoreRounded}} \\\\\\\\\n\\\\end{array}\n`;\n\n  return tex`${formula}`;\n}\n\n\nfunction _probability_formula(waterfall_data,tex)\n{\n  let final_match_weight = waterfall_data.find(\n    (data) => data.column_name === \"Final score\"\n  ).log2_bayes_factor;\n\n  let calculated_probability =\n    Math.pow(2, final_match_weight) / (1 + Math.pow(2, final_match_weight));\n\n  let latexFormula = `\\\\large{\\\\text{probability} = \\\\frac{2^{\\\\omega}}{1 + 2^{\\\\omega}} = \\\\frac{2^{${final_match_weight.toFixed(\n    2\n  )}}}{1 + 2^{${final_match_weight.toFixed(\n    2\n  )}}} = ${calculated_probability.toFixed(3)}}`;\n\n  return tex`${latexFormula}`;\n}\n\n\nfunction _waterfall_data(rlju,tutorial_settings,comparison_vector){return(\nrlju.settingsToWaterfall(tutorial_settings, comparison_vector[0])\n)}\n\nfunction _10(rlju,tutorial_settings,comparison_vector){return(\nrlju.settingsToWaterfall(tutorial_settings, comparison_vector[0])\n)}\n\nfunction _tableData(Generators,rlju,input_table){return(\nGenerators.observe((notify) => {\n  const keyinput = (event) => notify(rlju.parseTableData(input_table));\n  input_table.addEventListener(\"input\", keyinput, false);\n  notify(rlju.parseTableData(input_table));\n  return () => window.removeEventListener(\"input\", keyinput);\n})\n)}\n\nfunction _jaro_winkler(require){return(\nrequire(\"jaro-winkler\")\n)}\n\nfunction _comparison_pairs(rlju,tableData){return(\nrlju.createComparisonRows(tableData)\n)}\n\nfunction _comparison_functions(rlju)\n{\n  return {\n    first_name: rlju.jaroWinklerComparison,\n    surname: rlju.jaroWinklerComparison,\n    postcode: rlju.levenshteinComparison,\n    gender: rlju.exactMatchComparison\n  };\n}\n\n\nfunction _comparison_vector(rlju,comparison_pairs,comparison_functions){return(\nrlju.applyComparisonFunctions(\n  comparison_pairs,\n  comparison_functions\n)\n)}\n\nfunction _tutorial_settings(rlju){return(\nrlju.tutorial_partial_match_weights_settings\n)}\n\nfunction _partial_match_weight_chart_data_raw(rlju,tutorial_settings){return(\nrlju.settingsToPartialMatchWeightsData(\n  tutorial_settings\n)\n)}\n\nfunction _partial_match_weight_chart_data_raw_with_barisactive(rlju,partial_match_weight_chart_data_raw,comparison_vector){return(\nrlju.setBarIsActive(\n  partial_match_weight_chart_data_raw,\n  comparison_vector[0]\n)\n)}\n\nfunction _embed(require){return(\nrequire(\"vega-embed@6\")\n)}\n\nfunction _rlju2(require,localUrl,refresh){return(\nrequire(`${localUrl}?${refresh}${Date.now()}`)\n)}\n\nfunction _rlju(require){return(\nrequire(\"@robinl/record_linkage_javascript_utilities@0.0.7\")\n)}\n\nfunction _localUrl(){return(\n\"http://127.0.0.1:8889/bundle.js\"\n)}\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], _1);\n  main.variable(observer(\"viewof refresh\")).define(\"viewof refresh\", [\"Inputs\"], _refresh);\n  main.variable(observer(\"refresh\")).define(\"refresh\", [\"Generators\", \"viewof refresh\"], (G, _) => G.input(_));\n  main.variable(observer(\"input_table\")).define(\"input_table\", [\"html\"], _input_table);\n  main.variable(observer(\"partial_match_weights_highligh\")).define(\"partial_match_weights_highligh\", [\"embed\",\"rlju\",\"partial_match_weight_chart_data_raw_with_barisactive\"], _partial_match_weights_highligh);\n  main.variable(observer(\"text_activated_categories\")).define(\"text_activated_categories\", [\"waterfall_data\",\"html\"], _text_activated_categories);\n  main.variable(observer(\"waterfall_highlight\")).define(\"waterfall_highlight\", [\"rlju\",\"tutorial_settings\",\"comparison_vector\",\"embed\"], _waterfall_highlight);\n  main.variable(observer(\"waterfall_as_formula\")).define(\"waterfall_as_formula\", [\"waterfall_data\",\"tex\"], _waterfall_as_formula);\n  main.variable(observer(\"probability_formula\")).define(\"probability_formula\", [\"waterfall_data\",\"tex\"], _probability_formula);\n  main.variable(observer(\"waterfall_data\")).define(\"waterfall_data\", [\"rlju\",\"tutorial_settings\",\"comparison_vector\"], _waterfall_data);\n  main.variable(observer()).define([\"rlju\",\"tutorial_settings\",\"comparison_vector\"], _10);\n  main.variable(observer(\"tableData\")).define(\"tableData\", [\"Generators\",\"rlju\",\"input_table\"], _tableData);\n  main.variable(observer(\"jaro_winkler\")).define(\"jaro_winkler\", [\"require\"], _jaro_winkler);\n  main.variable(observer(\"comparison_pairs\")).define(\"comparison_pairs\", [\"rlju\",\"tableData\"], _comparison_pairs);\n  main.variable(observer(\"comparison_functions\")).define(\"comparison_functions\", [\"rlju\"], _comparison_functions);\n  main.variable(observer(\"comparison_vector\")).define(\"comparison_vector\", [\"rlju\",\"comparison_pairs\",\"comparison_functions\"], _comparison_vector);\n  main.variable(observer(\"tutorial_settings\")).define(\"tutorial_settings\", [\"rlju\"], _tutorial_settings);\n  main.variable(observer(\"partial_match_weight_chart_data_raw\")).define(\"partial_match_weight_chart_data_raw\", [\"rlju\",\"tutorial_settings\"], _partial_match_weight_chart_data_raw);\n  main.variable(observer(\"partial_match_weight_chart_data_raw_with_barisactive\")).define(\"partial_match_weight_chart_data_raw_with_barisactive\", [\"rlju\",\"partial_match_weight_chart_data_raw\",\"comparison_vector\"], _partial_match_weight_chart_data_raw_with_barisactive);\n  main.variable(observer(\"embed\")).define(\"embed\", [\"require\"], _embed);\n  main.variable(observer(\"rlju2\")).define(\"rlju2\", [\"require\",\"localUrl\",\"refresh\"], _rlju2);\n  main.variable(observer(\"rlju\")).define(\"rlju\", [\"require\"], _rlju);\n  main.variable(observer(\"localUrl\")).define(\"localUrl\", _localUrl);\n  return main;\n}\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport {ProbLinkageLayout as MDXLayout} from \"../components/ProbLinkageLayout\";\nimport {SEO} from \"../components/SEO\";\nexport const Head = props => React.createElement(SEO, {\n  frontmatter: props.pageContext.frontmatter\n});\nimport {Vega, VegaLite} from \"react-vega\";\nimport {ObservableCell, WithObservableProvider} from '../components/ObservableCells';\nimport TutorialNav from '../components/TutorialNav';\nimport CompactTutorialNav from '../components/CompactTutorialNav';\nimport notebook from \"@robinl/partial-match-weights\";\nimport InteractiveCallout from \"../components/InteractiveCallout\";\nimport partial_match_weights from './partial_match_weights/partial_match_weights.json';\nimport partial_match_weights_first_name from './partial_match_weights/partial_match_weights_first_name.json';\nimport DefinitionToolTip from \"../components/DefinitionToolTip\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    sup: \"sup\",\n    a: \"a\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    h3: \"h3\",\n    ol: \"ol\",\n    code: \"code\",\n    pre: \"pre\",\n    section: \"section\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"Partial Match Weights\"), \"\\n\", React.createElement(_components.p, null, \"In the previous article we saw that the Fellegi-Sunter model makes its predictions with a simple calculation: the sum of the \", React.createElement(DefinitionToolTip, {\n    term: \"partial_match_weight\"\n  }), \"s.\"), \"\\n\", React.createElement(_components.p, null, \"But what are partial match weights and where do they come from?\", React.createElement(_components.sup, null, React.createElement(_components.a, {\n    href: \"#user-content-fn-1\",\n    id: \"user-content-fnref-1\",\n    \"data-footnote-ref\": true,\n    \"aria-describedby\": \"footnote-label\"\n  }, \"1\"))), \"\\n\", React.createElement(_components.h2, null, \"What are they?\"), \"\\n\", React.createElement(_components.p, null, \"Some columns are more important than others to the calculation of overall match probability.\", React.createElement(_components.sup, null, React.createElement(_components.a, {\n    href: \"#user-content-fn-2\",\n    id: \"user-content-fnref-2\",\n    \"data-footnote-ref\": true,\n    \"aria-describedby\": \"footnote-label\"\n  }, \"2\")), \"  This is quantified by the partial match weights.\"), \"\\n\", React.createElement(_components.p, null, \"For example:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"A match on date of birth provides stronger evidence in favour of a match than a match on gender.\"), \"\\n\", React.createElement(_components.li, null, \"A mismatch on date of birth may provide more evidence against a match than a mismatch on address (because people move house).\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Positive values indicate evidence in favour of a match whilst negative values mean evidence against a match.\"), \"\\n\", React.createElement(_components.p, null, \"The concept applies more generally than just to matches and non-matches: partial match weights can be estimated for more subtle \", React.createElement(DefinitionToolTip, {\n    term: \"scenario\"\n  }), \"s like 'first name not an exact match, but similar'.\"), \"\\n\", React.createElement(_components.p, null, \"It is up to the modeller to define these scenarios and the resultant partial match weights they wish to estimate.\"), \"\\n\", React.createElement(_components.h3, null, \"Example:  First name column\"), \"\\n\", React.createElement(_components.p, null, \"For first name, we could define the following three scenarios:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"Exact match: First names are identical\"), \"\\n\", React.createElement(_components.li, null, \"Fuzzy match:  First names are similar according to the \", React.createElement(_components.a, {\n    href: \"https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance#Jaro%E2%80%93Winkler_similarity\"\n  }, \"Jaro Winkler\"), \" measure\"), \"\\n\", React.createElement(_components.li, null, \"All other cases\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"The estimated partial match weights may look like this:\", React.createElement(_components.sup, null, React.createElement(_components.a, {\n    href: \"#user-content-fn-3\",\n    id: \"user-content-fnref-3\",\n    \"data-footnote-ref\": true,\n    \"aria-describedby\": \"footnote-label\"\n  }, \"3\"))), \"\\n\", React.createElement(VegaLite, {\n    spec: partial_match_weights_first_name\n  }), \"\\n\", React.createElement(_components.p, null, \"Observe that:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"An exact match on first name provides stronger evidence in favour of a match than a fuzzy match\"), \"\\n\", React.createElement(_components.li, null, \"If the first name is completely different (neither and exact nor fuzzy match), this is evidence against the records being a match.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"These scenarios are mutually exclusive, and are implemented like a sequence of \", React.createElement(_components.code, null, \"if\"), \" statements:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-python\"\n  }, \"if first_name_l == first_name_r:\\n    first_name_partial_match_weight = 7.2\\nelif jaro_winkler_sim(first_name_l, first_name_r) >= 0.9:\\n    first_name_partial_match_weight = 5.9\\nelse:\\n    first_name_partial_match_weight = -3.3\\n\")), \"\\n\", React.createElement(_components.h3, null, \"Remaining columns\"), \"\\n\", React.createElement(_components.p, null, \"We can also estimate partial match weights for the remaining columns.\"), \"\\n\", React.createElement(_components.p, null, \"The number of scenarios modelled and the definition of these scenarios can vary depending on the type of information.\"), \"\\n\", React.createElement(_components.p, null, \"For example, since gender is a categorical variable we'd likely have just two partial weights: match, and non-match.\"), \"\\n\", React.createElement(_components.p, null, \"For date of birth, we may define three scenarios, but \", React.createElement(_components.a, {\n    href: \"https://en.wikipedia.org/wiki/Levenshtein_distance\"\n  }, \"Levenshtein\"), \" would be more suitable than \", React.createElement(_components.a, {\n    href: \"https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance\"\n  }, \"Jaro Winkler\"), \" for assessing similarity.\"), \"\\n\", React.createElement(_components.p, null, \"We can plot all the partial match weights in a single chart like this:\"), \"\\n\", React.createElement(VegaLite, {\n    spec: partial_match_weights\n  }), \"\\n\", React.createElement(_components.p, null, \"This provides a succinct summary of the whole model.\"), \"\\n\", React.createElement(_components.h2, null, \"Intuitive interpretation of partial match weights\"), \"\\n\", React.createElement(_components.p, null, \"The partial match weights in the chart have intuitive interpretations.\"), \"\\n\", React.createElement(_components.p, null, \"For example, the partial match weight associated with an exact match on postcode is stronger than the partial match weight associated with gender.\"), \"\\n\", React.createElement(_components.p, null, \"This makes sense: a match on gender doesn't tell us much about whether two records are a match, whereas a match on postcode is much more informative.\"), \"\\n\", React.createElement(_components.p, null, \"The pattern of negative partial match weights is also intuitive:  If gender is recorded as categorical variable, then it may be very accurate.  A mismatch would thus be strong evidence against a match.\"), \"\\n\", React.createElement(_components.p, null, \"Conversely, a mismatch on postcode may offer little evidence against a match since people move house, or typos may have been made.\"), \"\\n\", React.createElement(_components.h2, null, \"Understanding the partial match weight chart and waterfall chart\"), \"\\n\", React.createElement(_components.p, null, \"Let's take a look at an example record comparison, and see how the partial match weights are used.\"), \"\\n\", React.createElement(InteractiveCallout, null, \"You can edit the data in the below table to see how the calculation changes\"), \"\\n\", React.createElement(WithObservableProvider, {\n    notebook: notebook\n  }, React.createElement(ObservableCell, {\n    cellName: \"input_table\"\n  }), React.createElement(_components.p, null, \"The first stage is to calculate which scenarios apply for each column.  For example, are the first names an exact match, a fuzzy match, or neither?\"), React.createElement(ObservableCell, {\n    cellName: \"text_activated_categories\"\n  }), React.createElement(_components.p, null, \"In the below chart, I reproduce the partial match weights chart, but with the activated partial match weights highlighted.\"), React.createElement(ObservableCell, {\n    cellName: \"partial_match_weights_highligh\"\n  }), React.createElement(_components.p, null, \"The activated (selected) partial match weights can then be plotted in a waterfall chart, which represents how they are summed up to compute the final match weight:\"), React.createElement(ObservableCell, {\n    cellName: \"waterfall_highlight\"\n  }), React.createElement(_components.p, null, \"Alternatively we can represent the calculation of overall match weight as a sum:\"), React.createElement(ObservableCell, {\n    cellName: \"waterfall_as_formula\"\n  }), React.createElement(_components.p, null, \"The final match weight is a measure of the similarity of the two records.  In subsequent articles we will see how it can be converted into a probability using the formula:\"), React.createElement(ObservableCell, {\n    cellName: \"probability_formula\"\n  })), \"\\n\", React.createElement(_components.h2, null, \"Next steps\"), \"\\n\", React.createElement(_components.p, null, \"We now have a good qualitative understanding of the meaning of partial match weights.\"), \"\\n\", React.createElement(_components.p, null, \"In the next article we explore how they are calculated, and how to interpret their values.\"), \"\\n\", React.createElement(_components.section, {\n    \"data-footnotes\": true,\n    className: \"footnotes\"\n  }, React.createElement(_components.h2, {\n    className: \"sr-only\",\n    id: \"footnote-label\"\n  }, \"Footnotes\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, {\n    id: \"user-content-fn-1\"\n  }, \"\\n\", React.createElement(_components.p, null, \"In this context, the word 'partial' means 'using only a subset of the information in the record' - often a single column.  There is then a partial match weight for each column. \", React.createElement(_components.a, {\n    href: \"#user-content-fnref-1\",\n    \"data-footnote-backref\": true,\n    className: \"data-footnote-backref\",\n    \"aria-label\": \"Back to content\"\n  }, \"↩\")), \"\\n\"), \"\\n\", React.createElement(_components.li, {\n    id: \"user-content-fn-2\"\n  }, \"\\n\", React.createElement(_components.p, null, \"In this article, for simplicity,  there's a one to one correspondence between columns and partial match weights. Each column is treated as a separate piece of information.  In reality, the model allows for more flexibility.  We could split a column (e.g. date of birth) into several pieces of information (e.g. day, month, year) and estimate partial match weights for each.  Or we could combine several columns (e.g. first, middle and surname) into a single piece of information and estimate a partial match weights for this information. \", React.createElement(_components.a, {\n    href: \"#user-content-fnref-2\",\n    \"data-footnote-backref\": true,\n    className: \"data-footnote-backref\",\n    \"aria-label\": \"Back to content\"\n  }, \"↩\")), \"\\n\"), \"\\n\", React.createElement(_components.li, {\n    id: \"user-content-fn-3\"\n  }, \"\\n\", React.createElement(_components.p, null, \"A later article will explain how to estimate partial match weights.  Here I just assume they have already been estimated. \", React.createElement(_components.a, {\n    href: \"#user-content-fnref-3\",\n    \"data-footnote-backref\": true,\n    className: \"data-footnote-backref\",\n    \"aria-label\": \"Back to content\"\n  }, \"↩\")), \"\\n\"), \"\\n\"), \"\\n\"));\n}\nfunction MDXContent(props = {}) {\n  return React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props));\n}\nexport default MDXContent;\n","import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nconst CompactTutorialNav = ({ frontmatter }) => {\n    const { tutorial_number } = frontmatter;\n\n    const data = useStaticQuery(graphql`\n        query {\n            allMdx(filter: { frontmatter: { tutorial_number: { ne: null } } }) {\n                edges {\n                    node {\n                        frontmatter {\n                            tutorial_number\n                        }\n                        fields {\n                            slug\n                        }\n                    }\n                }\n            }\n        }\n    `);\n\n    const tutorials = data.allMdx.edges.map(\n        edge => edge.node.frontmatter.tutorial_number\n    );\n    const prevExists = tutorials.includes(tutorial_number - 1);\n    const nextExists = tutorials.includes(tutorial_number + 1);\n\n    const prevSlug = data.allMdx.edges.find(\n        edge => edge.node.frontmatter.tutorial_number === tutorial_number - 1\n    )?.node?.fields?.slug;\n    const nextSlug = data.allMdx.edges.find(\n        edge => edge.node.frontmatter.tutorial_number === tutorial_number + 1\n    )?.node?.fields?.slug;\n\n    return (\n        <div className=\"bg-gray-100 p-2 mt-2 mb-2 italic rounded-md text-gray-600 text-xs\">\n            <div className=\"flex justify-between\">\n                <div className=\"w-1/3 text-left\">\n                    {prevExists && (\n                        <Link\n                            to={prevSlug}\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            &larr; Previous article\n                        </Link>\n                    )}\n                </div>\n                <div className=\"w-1/3 text-center\">\n                    <span>\n                        This is part {tutorial_number} of the{' '}\n                        <Link\n                            to=\"/probabilistic_linkage\"\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            tutorial\n                        </Link>\n                    </span>\n                </div>\n                <div className=\"w-1/3 text-right\">\n                    {nextExists && (\n                        <Link\n                            to={nextSlug}\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            Next article &rarr;\n                        </Link>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CompactTutorialNav;\n","import React from 'react';\nimport { FaMagic } from 'react-icons/fa';\n\nconst InteractiveCallout = ({ children }) => (\n    <div\n        className=\"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 py-2 px-4 mb-4\"\n        role=\"alert\"\n    >\n        <div className=\"flex\">\n            <div>\n                <FaMagic className=\"text-yellow-400 mr-4\" />\n            </div>\n            <div>\n                <p className=\"mb-0\">{children}</p>\n            </div>\n        </div>\n    </div>\n);\n\nexport default InteractiveCallout;\n","import React, {\n    useRef,\n    useEffect,\n    createContext,\n    useContext,\n    useState,\n} from 'react';\nimport { Runtime, Inspector, Library } from '@observablehq/runtime';\n\nconst ObservableRuntimeContext = createContext(null);\n\nconst mountId = 'mdx-container-div';\n\nconst stdlib = new Library();\n\nconst library = Object.assign({}, stdlib, { width: width_cells });\n\nfunction width_cells() {\n    return stdlib.Generators.observe(notify => {\n        let width1 = notify(document.getElementById(mountId).clientWidth);\n        function resized() {\n            let width2 = document.getElementById(mountId).clientWidth;\n            if (width2 !== width1) notify((width1 = width2));\n        }\n\n        window.addEventListener('resize', resized);\n        return () => window.removeEventListener('resize', resized);\n    });\n}\n\nexport function ObservableProvider({ notebook, children }) {\n    const [sharedRefs, setSharedRefs] = useState({});\n    const runtime = new Runtime(\n        Object.assign({}, new Library(), { width: width_cells })\n    );\n\n    useEffect(() => {\n        runtime.module(notebook, name => {\n            if (sharedRefs[name]) {\n                return new Inspector(sharedRefs[name]);\n            }\n        });\n        return () => runtime.dispose();\n    }, [runtime, sharedRefs, notebook]);\n\n    return (\n        <ObservableRuntimeContext.Provider value={{ setSharedRefs }}>\n            {children}\n        </ObservableRuntimeContext.Provider>\n    );\n}\n\nexport function ObservableCell({ cellName, styles, className }) {\n    const ref = useRef(null);\n    const { setSharedRefs } = useContext(ObservableRuntimeContext);\n\n    useEffect(() => {\n        setSharedRefs(prevRefs => ({ ...prevRefs, [cellName]: ref.current }));\n    }, [cellName, setSharedRefs]);\n\n    return <div ref={ref} style={styles} className={className} />;\n}\n\nexport function WithObservableProvider({ notebook, children }) {\n    return (\n        <ObservableProvider notebook={notebook}>{children}</ObservableProvider>\n    );\n}\n","import React from 'react';\nimport MDXLayout from './MDXLayout';\nimport TutorialNav from '../components/TutorialNav';\nimport CompactTutorialNav from '../components/CompactTutorialNav';\n\nexport function ProbLinkageLayout({ children, pageContext }) {\n    const { frontmatter } = pageContext;\n\n    const InnerContent = () => (\n        <div>\n            <CompactTutorialNav frontmatter={frontmatter} />\n            {children}\n            <TutorialNav frontmatter={frontmatter} />\n        </div>\n    );\n\n    return (\n        <MDXLayout pageContext={pageContext}>\n            <InnerContent />\n        </MDXLayout>\n    );\n}\n\nexport default ProbLinkageLayout;\n","import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nconst TutorialNav = ({ frontmatter }) => {\n    const { tutorial_number, title } = frontmatter;\n\n    const data = useStaticQuery(graphql`\n        query {\n            allMdx(filter: { frontmatter: { tutorial_number: { ne: null } } }) {\n                edges {\n                    node {\n                        frontmatter {\n                            tutorial_number\n                            title\n                        }\n                        fields {\n                            slug\n                        }\n                    }\n                }\n            }\n        }\n    `);\n\n    const sortedTutorials = data.allMdx.edges.sort(\n        (a, b) =>\n            a.node.frontmatter.tutorial_number -\n            b.node.frontmatter.tutorial_number\n    );\n\n    return (\n        <div className=\"bg-blue-100  p-4 mt-8  mb-4 rounded-lg \">\n            <div className=\"container mx-auto\">\n                <div className=\"text-blue-800 font-semibold text-base mb-2\">\n                    <Link\n                        to=\"/probabilistic_linkage\"\n                        className=\"text-blue-500 hover:underline\"\n                    >\n                        Probabilistic Linkage Tutorial Navigation:\n                    </Link>\n                </div>\n                <ol className=\"space-y-2 text-sm\">\n                    {sortedTutorials.map(edge => (\n                        <li\n                            key={edge.node.frontmatter.tutorial_number}\n                            className=\"text-blue-600 text-sm\"\n                        >\n                            {tutorial_number ===\n                            edge.node.frontmatter.tutorial_number ? (\n                                <span className=\"font-bold text-sm\">\n                                    {edge.node.frontmatter.title}\n                                </span>\n                            ) : (\n                                <Link\n                                    to={edge.node.fields.slug}\n                                    className=\"hover:underline\"\n                                >\n                                    {edge.node.frontmatter.title}\n                                </Link>\n                            )}\n                        </li>\n                    ))}\n                </ol>\n            </div>\n        </div>\n    );\n};\n\nexport default TutorialNav;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport Vega from './Vega';\n\n/**\n * Syntactic sugar for using vega-lite with Vega\n * @param props\n */\nexport default function VegaLite(props) {\n  return /*#__PURE__*/React.createElement(Vega, _extends({}, props, {\n    mode: \"vega-lite\"\n  }));\n}"],"names":["_1","md","_refresh","Inputs","button","_input_table","html","colour_mapping","domain","range","hexToRgba","hex","alpha","r","g","b","parseInt","slice","rgbaMapping","forEach","key","i","_partial_match_weights_highligh","embed","rlju","partial_match_weight_chart_data_raw_with_barisactive","charts","partial_match_weights_chart","_text_activated_categories","waterfall_data","colorLookup","Prior","probability_two_random_records_match","first_name","surname","postcode","gender","filter","item","column_name","map","value_l","value_r","label_for_charts","join","_waterfall_highlight","tutorial_settings","comparison_vector","data","settingsToWaterfall","waterfall_chart","_waterfall_as_formula","tex","colorMap","formula","replace","finalScoreRounded","find","log2_bayes_factor","toFixed","num","color","_probability_formula","final_match_weight","calculated_probability","Math","pow","_waterfall_data","_10","_tableData","Generators","input_table","observe","notify","keyinput","event","parseTableData","addEventListener","window","removeEventListener","_jaro_winkler","require","_comparison_pairs","tableData","createComparisonRows","_comparison_functions","jaroWinklerComparison","levenshteinComparison","exactMatchComparison","_comparison_vector","comparison_pairs","comparison_functions","applyComparisonFunctions","_tutorial_settings","_partial_match_weight_chart_data_raw","settingsToPartialMatchWeightsData","_partial_match_weight_chart_data_raw_with_barisactive","partial_match_weight_chart_data_raw","setBarIsActive","_embed","_rlju2","localUrl","refresh","Date","now","_rlju","_localUrl","runtime","observer","main","module","variable","define","G","_","input","Head","props","React","SEO","frontmatter","pageContext","_createMdxContent","_components","Object","assign","h1","p","sup","a","h2","ul","li","h3","ol","code","pre","section","_provideComponents","components","DefinitionToolTip","term","href","id","VegaLite","spec","partial_match_weights_first_name","className","partial_match_weights","InteractiveCallout","WithObservableProvider","notebook","ObservableCell","cellName","MDXLayout","_ref","_data$allMdx$edges$fi","_data$allMdx$edges$fi2","_data$allMdx$edges$fi3","_data$allMdx$edges$fi4","_data$allMdx$edges$fi5","_data$allMdx$edges$fi6","tutorial_number","useStaticQuery","tutorials","allMdx","edges","edge","node","prevExists","includes","nextExists","prevSlug","fields","slug","nextSlug","Link","to","children","role","FaMagic","ObservableRuntimeContext","createContext","mountId","stdlib","Library","width","width_cells","width1","document","getElementById","clientWidth","resized","width2","ObservableProvider","sharedRefs","setSharedRefs","useState","Runtime","useEffect","name","Inspector","dispose","Provider","value","_ref2","styles","ref","useRef","useContext","prevRefs","current","style","_ref3","ProbLinkageLayout","InnerContent","CompactTutorialNav","TutorialNav","title","sortedTutorials","sort","_extends","target","arguments","length","source","prototype","hasOwnProperty","call","apply","this","mode"],"sourceRoot":""}
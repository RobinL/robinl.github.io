{"version":3,"file":"component---src-mdx-intro-to-probabilistic-linkage-mdx-dde81c775168a2f756fe.js","mappings":"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","sources":["webpack://robinlinacre/./node_modules/@robinl/intro-prob-linkage/3ec7a740cff5f9ad@84.js","webpack://robinlinacre/./src/mdx/intro_to_probabilistic_linkage.mdx","webpack://robinlinacre/./src/components/CompactTutorialNav.jsx","webpack://robinlinacre/./src/components/InteractiveCallout.jsx","webpack://robinlinacre/./src/components/ObservableCells.jsx","webpack://robinlinacre/./src/components/ProbLinkageLayout.jsx","webpack://robinlinacre/./src/hooks/use-site-metadata.jsx","webpack://robinlinacre/./src/components/SEO.jsx","webpack://robinlinacre/./src/components/TutorialNav.jsx"],"sourcesContent":["function _1(md){return(\nmd`# intro prob linkage`\n)}\n\nfunction _input_table(html)\n{\n  return html`\n  <table id=\"data-table\">\n    <tr>\n      <th>first_name</th>\n      <th>surname</th>\n      <th>postcode</th>\n      <th>gender</th>\n    </tr>\n    <tr contenteditable>\n      <td>Robin</td>\n      <td>Linacre</td>\n      <td>W1A 1AA</td>\n      <td>\n        <select>\n          <option value=\"male\">Male</option>\n          <option value=\"female\" selected>Female</option>\n          <option value=\"other\">Non-binary</option>\n        </select>\n      </td>\n    </tr>\n    <tr contenteditable>\n      <td>Robyn</td>\n      <td>Linacre</td>\n      <td>W1A 1AA</td>\n      <td>\n        <select>\n          <option value=\"male\" selected>Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"other\">Non-binary</option>\n        </select>\n      </td>\n    </tr>\n  </table>`;\n}\n\n\nfunction _waterfall_chart(rlju,tutorial_settings,comparison_vector,embed)\n{\n  let data = rlju.settingsToWaterfall(tutorial_settings, comparison_vector[0]);\n\n  let chart_spec = rlju.charts.waterfall_chart(data, false);\n\n  return embed(chart_spec);\n}\n\n\nfunction _estimated_probability(rlju,tutorial_settings,comparison_vector,html)\n{\n  let data = rlju.settingsToWaterfall(tutorial_settings, comparison_vector[0]);\n  let final_score = data.pop();\n\n  let match_probability =\n    rlju.convertMatchScoreMetrics.calcProbabilityFromPartialMatchWeight(\n      final_score.log2_bayes_factor\n    );\n  match_probability = (match_probability * 100).toFixed(1) + \"%\";\n\n  return html`<div><mark>The estimated probability these two records match is ${match_probability}.</mark></div>`;\n}\n\n\nfunction _5(rlju){return(\nrlju.convertMatchScoreMetrics.calcPartialMatchWeightFromProbability(1 / 10e6)\n)}\n\nfunction _6(rlju){return(\nrlju.convertMatchScoreMetrics.calcProbabilityFromPartialMatchWeight(6)\n)}\n\nfunction _tutorial_settings(rlju){return(\nrlju.tutorial_partial_match_weights_settings\n)}\n\nfunction _partial_match_weight_chart_data_raw(rlju,tutorial_settings){return(\nrlju.settingsToPartialMatchWeightsData(\n  tutorial_settings\n)\n)}\n\nfunction _partial_match_weight_chart_data_raw_with_barisactive(rlju,partial_match_weight_chart_data_raw,comparison_vector){return(\nrlju.setBarIsActive(\n  partial_match_weight_chart_data_raw,\n  comparison_vector[0]\n)\n)}\n\nfunction _comparison_vector(rlju,comparison_pairs,comparison_functions){return(\nrlju.applyComparisonFunctions(\n  comparison_pairs,\n  comparison_functions\n)\n)}\n\nfunction _comparison_pairs(rlju,tableData){return(\nrlju.createComparisonRows(tableData)\n)}\n\nfunction _tableData(Generators,rlju,input_table){return(\nGenerators.observe((notify) => {\n  const keyinput = (event) => notify(rlju.parseTableData(input_table));\n  input_table.addEventListener(\"input\", keyinput, false);\n  notify(rlju.parseTableData(input_table));\n  return () => window.removeEventListener(\"input\", keyinput);\n})\n)}\n\nfunction _comparison_functions(rlju)\n{\n  return {\n    first_name: rlju.jaroWinklerComparison,\n    surname: rlju.jaroWinklerComparison,\n    postcode: rlju.levenshteinComparison,\n    gender: rlju.exactMatchComparison\n  };\n}\n\n\nfunction _embed(require){return(\nrequire(\"vega-embed@6\")\n)}\n\nfunction _localUrl(){return(\n\"http://127.0.0.1:8889/bundle.js\"\n)}\n\nfunction _rlju2(require,localUrl,refresh){return(\nrequire(`${localUrl}?${refresh}${Date.now()}`)\n)}\n\nfunction _rlju(require){return(\nrequire(\"@robinl/record_linkage_javascript_utilities@0.0.7\")\n)}\n\nfunction _refresh(Inputs){return(\nInputs.button(\"refresh splink_vis_utils javascript lib\")\n)}\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], _1);\n  main.variable(observer(\"input_table\")).define(\"input_table\", [\"html\"], _input_table);\n  main.variable(observer(\"waterfall_chart\")).define(\"waterfall_chart\", [\"rlju\",\"tutorial_settings\",\"comparison_vector\",\"embed\"], _waterfall_chart);\n  main.variable(observer(\"estimated_probability\")).define(\"estimated_probability\", [\"rlju\",\"tutorial_settings\",\"comparison_vector\",\"html\"], _estimated_probability);\n  main.variable(observer()).define([\"rlju\"], _5);\n  main.variable(observer()).define([\"rlju\"], _6);\n  main.variable(observer(\"tutorial_settings\")).define(\"tutorial_settings\", [\"rlju\"], _tutorial_settings);\n  main.variable(observer(\"partial_match_weight_chart_data_raw\")).define(\"partial_match_weight_chart_data_raw\", [\"rlju\",\"tutorial_settings\"], _partial_match_weight_chart_data_raw);\n  main.variable(observer(\"partial_match_weight_chart_data_raw_with_barisactive\")).define(\"partial_match_weight_chart_data_raw_with_barisactive\", [\"rlju\",\"partial_match_weight_chart_data_raw\",\"comparison_vector\"], _partial_match_weight_chart_data_raw_with_barisactive);\n  main.variable(observer(\"comparison_vector\")).define(\"comparison_vector\", [\"rlju\",\"comparison_pairs\",\"comparison_functions\"], _comparison_vector);\n  main.variable(observer(\"comparison_pairs\")).define(\"comparison_pairs\", [\"rlju\",\"tableData\"], _comparison_pairs);\n  main.variable(observer(\"tableData\")).define(\"tableData\", [\"Generators\",\"rlju\",\"input_table\"], _tableData);\n  main.variable(observer(\"comparison_functions\")).define(\"comparison_functions\", [\"rlju\"], _comparison_functions);\n  main.variable(observer(\"embed\")).define(\"embed\", [\"require\"], _embed);\n  main.variable(observer(\"localUrl\")).define(\"localUrl\", _localUrl);\n  main.variable(observer(\"rlju2\")).define(\"rlju2\", [\"require\",\"localUrl\",\"refresh\"], _rlju2);\n  main.variable(observer(\"rlju\")).define(\"rlju\", [\"require\"], _rlju);\n  main.variable(observer(\"viewof refresh\")).define(\"viewof refresh\", [\"Inputs\"], _refresh);\n  main.variable(observer(\"refresh\")).define(\"refresh\", [\"Generators\", \"viewof refresh\"], (G, _) => G.input(_));\n  return main;\n}\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport {ProbLinkageLayout as MDXLayout} from \"../components/ProbLinkageLayout\";\nimport {SEO} from \"../components/SEO\";\nimport DefinitionToolTip from \"../components/DefinitionToolTip\";\nexport const Head = props => React.createElement(SEO, {\n  frontmatter: props.pageContext.frontmatter\n});\nimport notebook from '@robinl/intro-prob-linkage';\nimport InteractiveCallout from \"../components/InteractiveCallout\";\nimport {ObservableCell, WithObservableProvider} from '../components/ObservableCells';\nimport TutorialNav from '../components/TutorialNav';\nimport CompactTutorialNav from '../components/CompactTutorialNav';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    h2: \"h2\",\n    p: \"p\",\n    a: \"a\",\n    sup: \"sup\",\n    code: \"code\",\n    section: \"section\",\n    ol: \"ol\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"An Interactive Introduction to the Fellegi-Sunter Model for Data Linkage/Deduplication\"), \"\\n\", React.createElement(_components.h2, null, \"Aims\"), \"\\n\", React.createElement(_components.p, null, \"This is part one of a series of interactive articles that aim to provide an introduction to the theory of probabilistic record linkage and deduplication.\"), \"\\n\", React.createElement(_components.p, null, \"In this article I provide a high-level introduction to the \", React.createElement(DefinitionToolTip, {\n    term: \"fellegi-sunter\",\n    text: \"Fellegi-Sunter\"\n  }), \" framework and an interactive example of a linkage model.\"), \"\\n\", React.createElement(_components.p, null, \"Subsequent articles explore the theory in more depth.\"), \"\\n\", React.createElement(_components.p, null, \"These materials align closely to the probabilistic model used by \", React.createElement(_components.a, {\n    href: \"http://github.com/moj-analytical-services/splink\"\n  }, \"Splink\"), \", a free software package for record linkage at scale.\"), \"\\n\", React.createElement(_components.p, null, \"These articles cover the theory only.  For practical model building using Splink, see \", React.createElement(_components.a, {\n    href: \"https://moj-analytical-services.github.io/splink/demos/tutorials/00_Tutorial_Introduction.html\"\n  }, \"the tutorial in the Splink docs\"), \".\"), \"\\n\", React.createElement(_components.h2, null, \"What is probabilistic record linkage?\"), \"\\n\", React.createElement(_components.p, null, \"Probablistic record linkage is a technique used to link together records that lack unique identifiers.\"), \"\\n\", React.createElement(_components.p, null, \"In the absence of a unique identifier such as a National Insurance number, we can use a combination of individually non-unique variables such as name, gender and date of birth to identify individuals.\"), \"\\n\", React.createElement(_components.p, null, \"Record linkage can be done within datasets (deduplication), between datasets (linkage), or both\", React.createElement(_components.sup, null, React.createElement(_components.a, {\n    href: \"#user-content-fn-1\",\n    id: \"user-content-fnref-1\",\n    \"data-footnote-ref\": true,\n    \"aria-describedby\": \"footnote-label\"\n  }, \"1\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Linkage is 'probabilistic' in the sense that it subject to uncertainty and relies on the balance of evidence. For instance, in a large dataset, observing that two records match on the full name \", React.createElement(_components.code, null, \"John Smith\"), \" provides some evidence that these two records may refer to the same person, but this evidence is inconclusive because it's possible there are two different \", React.createElement(_components.code, null, \"John Smith\"), \"s.\"), \"\\n\", React.createElement(_components.p, null, \"More broadly,  it is often impossible to classify pairs of records as matches or non-matches beyond any doubt. Instead, the aim of probabilisitic record linkage is to quantify the probability that a pair of records refer to the same entity by considering evidence in favour and against a match and weighting it appropriately.\"), \"\\n\", React.createElement(_components.p, null, \"The most common type of probabilistic record linkage model is called the Fellegi-Sunter model.\"), \"\\n\", React.createElement(_components.p, null, \"We start with a \", React.createElement(DefinitionToolTip, {\n    term: \"prior\"\n  }), \", which represents the probability that two records drawn at random are a match. We then compare the two records, increasing the match probability where information in the record matches, and decreasing it when information differs.\"), \"\\n\", React.createElement(_components.p, null, \"The amount we increase and decrease the match probability is determined by the '\", React.createElement(DefinitionToolTip, {\n    term: \"partial_match_weight\"\n  }), \"s' of the model.\"), \"\\n\", React.createElement(_components.p, null, \"For example, a match on postcode gives us more evidence in favour of a match on gender, since the latter is much more likely to occur by chance.\"), \"\\n\", React.createElement(_components.p, null, \"The final prediction is a simple calculation:  we sum up \", React.createElement(DefinitionToolTip, {\n    term: \"partial_match_weight\"\n  }), \"s to compute a final match weight, which is then converted into a probability.\"), \"\\n\", React.createElement(_components.h2, null, \"Example\"), \"\\n\", React.createElement(_components.p, null, \"Let's take a look at an example of a simple Fellegi-Sunter model to calculate match probability interactively. This model will compare the two records in the table, and assess whether they refer to the same person, or different people.\"), \"\\n\", React.createElement(InteractiveCallout, null, \"You may edit the values in the table to see how the match probability changes.\"), \"\\n\", React.createElement(WithObservableProvider, {\n    notebook: notebook\n  }, React.createElement(ObservableCell, {\n    cellName: \"input_table\"\n  }), React.createElement(ObservableCell, {\n    cellName: \"estimated_probability\"\n  }), React.createElement(_components.p, null, \"We can decompose this calculation into the sum of the \", React.createElement(DefinitionToolTip, {\n    term: \"partial_match_weight\"\n  }), \"s using a waterfall chart, which is read from left to right. We start with the prior, and take each column into account in turn.  The size of the bar corresponds to the \", React.createElement(DefinitionToolTip, {\n    term: \"partial_match_weight\"\n  }), \".\"), React.createElement(_components.p, null, \"You can hover over the bars to see how the probability changes as each subsequent field is taken into account.\"), React.createElement(_components.p, null, \"The final estimated match probability is shown in the rightmost bar.  Note that the y axis on the right converts match weight into probability.\"), React.createElement(ObservableCell, {\n    cellName: \"waterfall_chart\"\n  }), React.createElement(_components.p, null, \"In the next article, we will look at partial match weights in great depth.\")), \"\\n\", React.createElement(_components.section, {\n    \"data-footnotes\": true,\n    className: \"footnotes\"\n  }, React.createElement(_components.h2, {\n    className: \"sr-only\",\n    id: \"footnote-label\"\n  }, \"Footnotes\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, {\n    id: \"user-content-fn-1\"\n  }, \"\\n\", React.createElement(_components.p, null, \"Record linkage and deduplication are equivalent problems.  The only difference is that linkage involves finding matching entities across datasets and deduplication involves finding matches within datasets. \", React.createElement(_components.a, {\n    href: \"#user-content-fnref-1\",\n    \"data-footnote-backref\": true,\n    className: \"data-footnote-backref\",\n    \"aria-label\": \"Back to content\"\n  }, \"â†©\")), \"\\n\"), \"\\n\"), \"\\n\"));\n}\nfunction MDXContent(props = {}) {\n  return React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props));\n}\nexport default MDXContent;\n","import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nconst CompactTutorialNav = ({ frontmatter }) => {\n    const { tutorial_number } = frontmatter;\n\n    const data = useStaticQuery(graphql`\n        query {\n            allMdx(filter: { frontmatter: { tutorial_number: { ne: null } } }) {\n                edges {\n                    node {\n                        frontmatter {\n                            tutorial_number\n                        }\n                        fields {\n                            slug\n                        }\n                    }\n                }\n            }\n        }\n    `);\n\n    const tutorials = data.allMdx.edges.map(\n        edge => edge.node.frontmatter.tutorial_number\n    );\n    const prevExists = tutorials.includes(tutorial_number - 1);\n    const nextExists = tutorials.includes(tutorial_number + 1);\n\n    const prevSlug = data.allMdx.edges.find(\n        edge => edge.node.frontmatter.tutorial_number === tutorial_number - 1\n    )?.node?.fields?.slug;\n    const nextSlug = data.allMdx.edges.find(\n        edge => edge.node.frontmatter.tutorial_number === tutorial_number + 1\n    )?.node?.fields?.slug;\n\n    return (\n        <div className=\"bg-gray-100 p-2 mt-2 mb-2 italic rounded-md text-gray-600 text-xs\">\n            <div className=\"flex justify-between\">\n                <div className=\"w-1/3 text-left\">\n                    {prevExists && (\n                        <Link\n                            to={prevSlug}\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            &larr; Previous article\n                        </Link>\n                    )}\n                </div>\n                <div className=\"w-1/3 text-center\">\n                    <span>\n                        This is part {tutorial_number} of the{' '}\n                        <Link\n                            to=\"/probabilistic_linkage\"\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            tutorial\n                        </Link>\n                    </span>\n                </div>\n                <div className=\"w-1/3 text-right\">\n                    {nextExists && (\n                        <Link\n                            to={nextSlug}\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            Next article &rarr;\n                        </Link>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CompactTutorialNav;\n","import React from 'react';\nimport { FaMagic } from 'react-icons/fa';\n\nconst InteractiveCallout = ({ children }) => (\n    <div\n        className=\"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 py-2 px-4 mb-4\"\n        role=\"alert\"\n    >\n        <div className=\"flex\">\n            <div>\n                <FaMagic className=\"text-yellow-400 mr-4\" />\n            </div>\n            <div>\n                <p className=\"mb-0\">{children}</p>\n            </div>\n        </div>\n    </div>\n);\n\nexport default InteractiveCallout;\n","import React, {\n    useRef,\n    useEffect,\n    createContext,\n    useContext,\n    useState,\n} from 'react';\nimport { Runtime, Inspector, Library } from '@observablehq/runtime';\n\nconst ObservableRuntimeContext = createContext(null);\n\nconst mountId = 'mdx-container-div';\n\nconst stdlib = new Library();\n\nconst library = Object.assign({}, stdlib, { width: width_cells });\n\nfunction width_cells() {\n    return stdlib.Generators.observe(notify => {\n        let width1 = notify(document.getElementById(mountId).clientWidth);\n        function resized() {\n            let width2 = document.getElementById(mountId).clientWidth;\n            if (width2 !== width1) notify((width1 = width2));\n        }\n\n        window.addEventListener('resize', resized);\n        return () => window.removeEventListener('resize', resized);\n    });\n}\n\nexport function ObservableProvider({ notebook, children }) {\n    const [sharedRefs, setSharedRefs] = useState({});\n    const runtime = new Runtime(\n        Object.assign({}, new Library(), { width: width_cells })\n    );\n\n    useEffect(() => {\n        runtime.module(notebook, name => {\n            if (sharedRefs[name]) {\n                return new Inspector(sharedRefs[name]);\n            }\n        });\n        return () => runtime.dispose();\n    }, [runtime, sharedRefs, notebook]);\n\n    return (\n        <ObservableRuntimeContext.Provider value={{ setSharedRefs }}>\n            {children}\n        </ObservableRuntimeContext.Provider>\n    );\n}\n\nexport function ObservableCell({ cellName, styles, className }) {\n    const ref = useRef(null);\n    const { setSharedRefs } = useContext(ObservableRuntimeContext);\n\n    useEffect(() => {\n        setSharedRefs(prevRefs => ({ ...prevRefs, [cellName]: ref.current }));\n    }, [cellName, setSharedRefs]);\n\n    return <div ref={ref} style={styles} className={className} />;\n}\n\nexport function WithObservableProvider({ notebook, children }) {\n    return (\n        <ObservableProvider notebook={notebook}>{children}</ObservableProvider>\n    );\n}\n","import React from 'react';\nimport MDXLayout from './MDXLayout';\nimport TutorialNav from '../components/TutorialNav';\nimport CompactTutorialNav from '../components/CompactTutorialNav';\n\nexport function ProbLinkageLayout({ children, pageContext }) {\n    const { frontmatter } = pageContext;\n\n    const InnerContent = () => (\n        <div>\n            <CompactTutorialNav frontmatter={frontmatter} />\n            {children}\n            <TutorialNav frontmatter={frontmatter} />\n        </div>\n    );\n\n    return (\n        <MDXLayout pageContext={pageContext}>\n            <InnerContent />\n        </MDXLayout>\n    );\n}\n\nexport default ProbLinkageLayout;\n","import { graphql, useStaticQuery } from 'gatsby';\n\nexport const useSiteMetadata = () => {\n    const data = useStaticQuery(graphql`\n        query {\n            site {\n                siteMetadata {\n                    title\n                    description\n                    twitterUsername\n                    image\n                    siteUrl\n                }\n            }\n        }\n    `);\n\n    return data.site.siteMetadata;\n};\n","import React from 'react';\nimport { useSiteMetadata } from '../hooks/use-site-metadata';\n\nexport const SEO = ({ frontmatter }) => {\n    const {\n        title: defaultTitle,\n        description: defaultDescription,\n        image,\n        siteUrl,\n        twitterUsername,\n    } = useSiteMetadata();\n\n    const seo = {\n        title: frontmatter?.title || defaultTitle,\n        description: frontmatter?.description || defaultDescription,\n        image: `${siteUrl}${frontmatter?.image || image}`,\n        url: `${siteUrl}${frontmatter?.pathname || ``}`,\n        twitterUsername,\n        ...frontmatter,\n    };\n\n    const stylesheetLink = frontmatter?.stylesheet;\n\n    return (\n        <>\n            <title>{seo.title}</title>\n            <meta name=\"description\" content={seo.description} />\n            <meta name=\"image\" content={seo.image} />\n            {stylesheetLink && (\n                <link\n                    rel=\"stylesheet\"\n                    type=\"text/css\"\n                    href={`/styles/${stylesheetLink}`}\n                />\n            )}\n        </>\n    );\n};\n","import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nconst TutorialNav = ({ frontmatter }) => {\n    const { tutorial_number, title } = frontmatter;\n\n    const data = useStaticQuery(graphql`\n        query {\n            allMdx(filter: { frontmatter: { tutorial_number: { ne: null } } }) {\n                edges {\n                    node {\n                        frontmatter {\n                            tutorial_number\n                            title\n                        }\n                        fields {\n                            slug\n                        }\n                    }\n                }\n            }\n        }\n    `);\n\n    const sortedTutorials = data.allMdx.edges.sort(\n        (a, b) =>\n            a.node.frontmatter.tutorial_number -\n            b.node.frontmatter.tutorial_number\n    );\n\n    return (\n        <div className=\"bg-blue-100  p-4 mt-8  mb-4 rounded-lg \">\n            <div className=\"container mx-auto\">\n                <div className=\"text-blue-800 font-semibold text-base mb-2\">\n                    <Link\n                        to=\"/probabilistic_linkage\"\n                        className=\"text-blue-500 hover:underline\"\n                    >\n                        Probabilistic Linkage Tutorial Navigation:\n                    </Link>\n                </div>\n                <ol className=\"space-y-2 text-sm\">\n                    {sortedTutorials.map(edge => (\n                        <li\n                            key={edge.node.frontmatter.tutorial_number}\n                            className=\"text-blue-600 text-sm\"\n                        >\n                            {tutorial_number ===\n                            edge.node.frontmatter.tutorial_number ? (\n                                <span className=\"font-bold text-sm\">\n                                    {edge.node.frontmatter.title}\n                                </span>\n                            ) : (\n                                <Link\n                                    to={edge.node.fields.slug}\n                                    className=\"hover:underline\"\n                                >\n                                    {edge.node.frontmatter.title}\n                                </Link>\n                            )}\n                        </li>\n                    ))}\n                </ol>\n            </div>\n        </div>\n    );\n};\n\nexport default TutorialNav;\n"],"names":["_1","md","_input_table","html","_waterfall_chart","rlju","tutorial_settings","comparison_vector","embed","data","settingsToWaterfall","charts","waterfall_chart","_estimated_probability","final_score","pop","match_probability","convertMatchScoreMetrics","calcProbabilityFromPartialMatchWeight","log2_bayes_factor","toFixed","_5","calcPartialMatchWeightFromProbability","_6","_tutorial_settings","_partial_match_weight_chart_data_raw","settingsToPartialMatchWeightsData","_partial_match_weight_chart_data_raw_with_barisactive","partial_match_weight_chart_data_raw","setBarIsActive","_comparison_vector","comparison_pairs","comparison_functions","applyComparisonFunctions","_comparison_pairs","tableData","createComparisonRows","_tableData","Generators","input_table","observe","notify","keyinput","event","parseTableData","addEventListener","window","removeEventListener","_comparison_functions","first_name","jaroWinklerComparison","surname","postcode","levenshteinComparison","gender","exactMatchComparison","_embed","require","_localUrl","_rlju2","localUrl","refresh","Date","now","_rlju","_refresh","Inputs","button","runtime","observer","main","module","variable","define","G","_","input","Head","props","React","SEO","frontmatter","pageContext","_createMdxContent","_components","Object","assign","h1","h2","p","a","sup","code","section","ol","li","_provideComponents","components","DefinitionToolTip","term","text","href","id","InteractiveCallout","WithObservableProvider","notebook","ObservableCell","cellName","className","MDXLayout","_ref","_data$allMdx$edges$fi","_data$allMdx$edges$fi2","_data$allMdx$edges$fi3","_data$allMdx$edges$fi4","_data$allMdx$edges$fi5","_data$allMdx$edges$fi6","tutorial_number","useStaticQuery","tutorials","allMdx","edges","map","edge","node","prevExists","includes","nextExists","prevSlug","find","fields","slug","nextSlug","Link","to","children","role","FaMagic","ObservableRuntimeContext","createContext","mountId","stdlib","Library","width","width_cells","width1","document","getElementById","clientWidth","resized","width2","ObservableProvider","sharedRefs","setSharedRefs","useState","Runtime","useEffect","name","Inspector","dispose","Provider","value","_ref2","styles","ref","useRef","useContext","prevRefs","current","style","_ref3","ProbLinkageLayout","InnerContent","CompactTutorialNav","TutorialNav","title","defaultTitle","description","defaultDescription","image","siteUrl","twitterUsername","site","siteMetadata","seo","url","pathname","stylesheetLink","stylesheet","content","rel","type","sortedTutorials","sort","b","key"],"sourceRoot":""}
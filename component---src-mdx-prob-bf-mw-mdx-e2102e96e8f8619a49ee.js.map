{"version":3,"file":"component---src-mdx-prob-bf-mw-mdx-e2102e96e8f8619a49ee.js","mappings":"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","sources":["webpack://robinlinacre/./node_modules/@robinl/interactive-bayes-factor-probability-and-match-weight/189e36237ee45054@434.js","webpack://robinlinacre/./src/mdx/prob_bf_mw.mdx","webpack://robinlinacre/./src/components/InteractiveCallout.jsx","webpack://robinlinacre/./src/components/ObservableCells.jsx","webpack://robinlinacre/./src/components/ProbHomeNav.jsx","webpack://robinlinacre/./src/hooks/use-site-metadata.jsx","webpack://robinlinacre/./src/components/SEO.jsx"],"sourcesContent":["function _1(md){return(\nmd`# Interactive Bayes Factor, Probability and Match Weight`\n)}\n\nfunction _spec(spec_json,chart_data,width)\n{\n  let spec_parsed = JSON.parse(spec_json);\n  spec_parsed[\"datasets\"][\"mydata\"] = chart_data;\n  spec_parsed.vconcat.forEach((obj) => {\n    if (obj.hasOwnProperty(\"width\")) {\n      obj.width = width - 190;\n    }\n  });\n  return spec_parsed;\n}\n\n\nfunction _chart(embed,spec){return(\nembed(spec)\n)}\n\nfunction _mw_1(roundToSignificantFigures,selected_val,html,tex)\n{\n  const rounded_partial_match_weight = roundToSignificantFigures(\n    selected_val,\n    4\n  );\n  return html`${tex`\\text{Partial Match Weight} = \\omega = ${rounded_partial_match_weight}`}`;\n}\n\n\nfunction _bf_1(roundToSignificantFigures,calcBayesFactorFromPartialMatchWeight,selected_val,calcProbabilityFromPartialMatchWeight,html,tex)\n{\n  const bayes_factor = roundToSignificantFigures(\n    calcBayesFactorFromPartialMatchWeight(selected_val),\n    4\n  );\n  const p_val = calcProbabilityFromPartialMatchWeight(selected_val).toFixed(4);\n  const rounded_partial_match_weight = roundToSignificantFigures(\n    selected_val,\n    4\n  );\n\n  return html`${tex`\\text{Bayes Factor} = K = 2^{\\omega} = 2^{{${rounded_partial_match_weight}}} = ${bayes_factor}`}`;\n}\n\n\nfunction _p_1(calcProbabilityFromPartialMatchWeight,selected_val,roundToSignificantFigures,html,tex)\n{\n  const p_val = calcProbabilityFromPartialMatchWeight(selected_val).toFixed(4);\n\n  const partial_match_weight = roundToSignificantFigures(selected_val, 4);\n\n  return html`${tex`\\text{Probability} = p = \\frac{K}{1 + K} = \\frac{2^{{${partial_match_weight}}}}{1 + 2^{{${partial_match_weight}}}} = ${p_val}`}`;\n}\n\n\nfunction _8(html,tex){return(\nhtml`${tex`\\text{Bayes Factor} = K = \\frac{p}{1-p}`}`\n)}\n\nfunction _p_2(calcProbabilityFromPartialMatchWeight,selected_val,html,tex)\n{\n  const p_val = calcProbabilityFromPartialMatchWeight(selected_val);\n  const p_val_rounded = p_val.toFixed(4);\n  return html`${tex`\\text{Probability} = p = ${p_val_rounded}`}`;\n}\n\n\nfunction _bf_2(calcProbabilityFromPartialMatchWeight,selected_val,roundToSignificantFigures,calcBayesFactorFromProbability,html,tex)\n{\n  const p_val = calcProbabilityFromPartialMatchWeight(selected_val);\n  const p_val_rounded = p_val.toFixed(4);\n  const bayes_factor = roundToSignificantFigures(\n    calcBayesFactorFromProbability(p_val),\n    4\n  );\n\n  return html`${tex`\\text{Bayes Factor} = K = \\frac{p}{1-p} = \\frac{${p_val_rounded}}{1 - ${p_val_rounded}} = ${bayes_factor}`}`;\n}\n\n\nfunction _mw_2(calcBayesFactorFromPartialMatchWeight,selected_val,roundToSignificantFigures,calcPartialMatchWeightFromBayesFactor,html,tex)\n{\n  const bayes_factor = calcBayesFactorFromPartialMatchWeight(selected_val);\n  const bayes_factor_rounded = roundToSignificantFigures(bayes_factor, 4);\n  const rounded_partial_match_weight = roundToSignificantFigures(\n    calcPartialMatchWeightFromBayesFactor(bayes_factor),\n    4\n  );\n\n  return html`${tex`\\text{Partial Match Weight} = \\omega = \\log_{2} K = \\log_{2} {${bayes_factor_rounded}} = ${rounded_partial_match_weight}`}`;\n}\n\n\nfunction _prior_probabability(Inputs){return(\nInputs.range([0, 1], {\n  label: \"Prior probability\"\n  \n})\n)}\n\nfunction _max_match_weight(Inputs){return(\nInputs.range([5, 40], {\n  label: \"Max match weight\",\n  step: 5,\n  value: 10 // Default value\n})\n)}\n\nfunction _15(calcBayesFactorFromProbability,prior_probabability,calcPartialMatchWeightFromBayesFactor,selected_val,calcProbabilityFromPartialMatchWeight,roundToSignificantFigures,html,tex)\n{\n  const prior_bayes_factor =\n    calcBayesFactorFromProbability(prior_probabability);\n\n  const prior_partial_match_weight =\n    calcPartialMatchWeightFromBayesFactor(prior_bayes_factor);\n\n  const posterior_match_weight = prior_partial_match_weight + selected_val;\n\n  const posterior_probability = calcProbabilityFromPartialMatchWeight(\n    posterior_match_weight\n  );\n\n  // I want the following formula to include not just the interpolated values but also the maths that maps from prior probability and partial match weight to posterior probability\n\n  let a = `With a prior probability of ${prior_probabability.toFixed(\n    4\n  )}, applying a partial match weight of ${roundToSignificantFigures(\n    selected_val,\n    4\n  )} would result in: `;\n  return html`${a} ${tex`\n  \\begin{aligned}\n  \\text{Prior as probability} &= p_{\\text{prior}} &= ${roundToSignificantFigures(\n    prior_probabability,\n    4\n  )}\\\\\n  \\text{Prior as Bayes Factor} &= K = \\frac{p_{\\text{prior}}}{1 - p_{\\text{prior}}} &= ${roundToSignificantFigures(\n    prior_bayes_factor,\n    4\n  )} \\\\\n  \\text{Prior as Match Weight} &= \\omega_{\\text{prior}} = \\log_{2}(K) &= ${roundToSignificantFigures(\n    prior_partial_match_weight,\n    4\n  )} \\\\\n  \\text{Selected Partial Match Weight} &= v &= ${roundToSignificantFigures(\n    selected_val,\n    4\n  )} \\\\\n  \\text{Posterior Match Weight} &= \\omega_{\\text{posterior}} = \\omega_{\\text{prior}} + v &= ${roundToSignificantFigures(\n    posterior_match_weight,\n    4\n  )} \\\\\n  \\text{Posterior Probability} &= p_{\\text{posterior}} = \\frac{2^{\\omega_{\\text{posterior}}}}{1 + 2^{\\omega_{\\text{posterior}}}} &= ${roundToSignificantFigures(\n    posterior_probability,\n    4\n  )}\n  \\end{aligned}\n`}`;\n}\n\n\nfunction _calcBayesFactorFromPartialMatchWeight(){return(\nfunction calcBayesFactorFromPartialMatchWeight(selected_val) {\n  return Math.pow(2, selected_val);\n}\n)}\n\nfunction _calcProbabilityFromPartialMatchWeight(){return(\nfunction calcProbabilityFromPartialMatchWeight(selected_val) {\n  return Math.pow(2, selected_val) / (1 + Math.pow(2, selected_val));\n}\n)}\n\nfunction _computeProbabilityFromPartialMatchWeight(){return(\nfunction computeProbabilityFromPartialMatchWeight(logOdds) {\n  return Math.pow(2, logOdds) / (1 + Math.pow(2, logOdds));\n}\n)}\n\nfunction _calcPartialMatchWeightFromBayesFactor(){return(\nfunction calcPartialMatchWeightFromBayesFactor(K) {\n  return Math.log2(K);\n}\n)}\n\nfunction _calcBayesFactorFromProbability(){return(\nfunction calcBayesFactorFromProbability(p) {\n  return p / (1 - p);\n}\n)}\n\nfunction _roundToSignificantFigures(){return(\nfunction roundToSignificantFigures(num, sigFigs) {\n  if (num === 0) return 0;\n\n  // Calculate the order of magnitude of the number\n  const magnitude = Math.floor(Math.log10(Math.abs(num)));\n\n  // Calculate the scaling factor\n  const scale = Math.pow(10, sigFigs - magnitude - 1);\n\n  // Round the number and undo the scaling\n  return Math.round(num * scale) / scale;\n}\n)}\n\nfunction _embed(require){return(\nrequire(\"vega-embed@6\")\n)}\n\nfunction _observed_param(observe_chart_data,chart){return(\nobserve_chart_data(chart, \"param_7\")\n)}\n\nfunction _selected_val(observed_param){return(\nobserved_param[\"mw\"][0]\n)}\n\nfunction _observe_chart_data(Generators){return(\nfunction observe_chart_data(chart, signal_name) {\n  return Generators.observe(function (notify) {\n    const signaled = (name, value) => notify(value);\n    chart.addSignalListener(signal_name, signaled);\n\n    notify(chart.signal(signal_name));\n\n    return () => chart.removeSignalListener(signal_name, signaled);\n  });\n}\n)}\n\nfunction _probToBayesFactor(){return(\nfunction probToBayesFactor(prob) {\n    return prob !== 1 ? prob / (1 - prob) : Infinity;\n}\n)}\n\nfunction _probToMatchWeight(probToBayesFactor){return(\nfunction probToMatchWeight(prob) {\n  const bayesFactor = probToBayesFactor(prob);\n  const matchWeight = Math.log2(bayesFactor);\n\n  // Round to avoid floating point errors\n  const precision = 8; // You can adjust the precision as needed\n  return (\n    Math.round(matchWeight * Math.pow(10, precision)) / Math.pow(10, precision)\n  );\n}\n)}\n\nfunction _matchWeightToBayesFactor(){return(\nfunction matchWeightToBayesFactor(weight) {\n  return Math.pow(2, weight);\n}\n)}\n\nfunction _bayesFactorToProb(){return(\nfunction bayesFactorToProb(bf) {\n  return bf / (1 + bf);\n}\n)}\n\nfunction _formatBf(){return(\nfunction formatBf(bf, mw) {\n  if (bf >= 1000) {\n    return bf.toLocaleString(undefined, { maximumFractionDigits: 0 });\n  } else if (bf >= 100) {\n    return bf.toLocaleString(undefined, { maximumFractionDigits: 1 });\n  } else if (bf >= 10) {\n    return bf.toLocaleString(undefined, { maximumFractionDigits: 2 });\n  } else if (bf >= 1) {\n    return bf\n      .toLocaleString(undefined, { maximumFractionDigits: 3 })\n      .replace(/\\.?0+$/, \"\");\n  } else {\n    // Apply similar formatting logic as prob_fmt for bf < 1\n    const absMw = Math.abs(mw);\n    const additionalDigits = Math.floor(absMw / 5);\n    const minFractionDigits = 4 + additionalDigits;\n\n    return bf\n      .toLocaleString(undefined, { minimumFractionDigits: minFractionDigits })\n      .replace(/\\.?0+$/, \"\");\n  }\n}\n)}\n\nfunction _chart_data(max_match_weight,bayesFactorToProb,matchWeightToBayesFactor,probToBayesFactor,probToMatchWeight,formatBf)\n{\n  const start = -max_match_weight;\n  const end = -1 * start;\n  const subdivisions = 5;\n\n  // Adjust the length to be inclusive of both start and end\n  let data = Array.from({ length: (end - start) * subdivisions + 1 }, (_, i) =>\n    bayesFactorToProb(\n      matchWeightToBayesFactor((i + start * subdivisions) / subdivisions)\n    )\n  );\n\n  data = data.map((x) => ({\n    prob: x,\n    bf: probToBayesFactor(x),\n    mw: probToMatchWeight(x)\n  }));\n\n  data = data.map((d) => {\n    const absMw = Math.abs(d.mw);\n    const additionalDigits = Math.floor(absMw / 5);\n    const minFractionDigits = 4 + additionalDigits;\n\n    const probFmt = d.prob\n      .toLocaleString(undefined, { minimumFractionDigits: minFractionDigits })\n      .replace(/\\.?0+$/, \"\");\n\n    const bfFmt = formatBf(d.bf, d.mw);\n    const mwFmt = d.mw.toLocaleString(undefined, { maximumFractionDigits: 1 });\n\n    let intFmt;\n    if (d.prob > 0.5) {\n      const bfValue = d.bf;\n      if (bfValue > 100) {\n        intFmt = `${bfValue.toLocaleString(undefined, {\n          minimumFractionDigits: 0,\n          maximumFractionDigits: 0\n        })}x more likely`;\n      } else {\n        intFmt = `${bfValue\n          .toLocaleString(undefined, {\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 2\n          })\n          .replace(/\\.?0+$/, \"\")}x more likely`;\n      }\n    } else if (d.prob < 0.5) {\n      const bfValue = 1 / d.bf;\n      if (bfValue > 100) {\n        intFmt = `${bfValue.toLocaleString(undefined, {\n          minimumFractionDigits: 0,\n          maximumFractionDigits: 0\n        })}x less likely`;\n      } else {\n        intFmt = `${bfValue\n          .toLocaleString(undefined, {\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 2\n          })\n          .replace(/\\.?0+$/, \"\")}x less likely`;\n      }\n    } else {\n      intFmt = \"no more or less likely\";\n    }\n\n    return {\n      ...d,\n      prob_fmt: probFmt,\n      bf_fmt: bfFmt,\n      mw_fmt: mwFmt,\n      int_fmt: intFmt\n    };\n  });\n\n  return data; // Return the processed data\n}\n\n\nfunction _texd(tex){return(\ntex.options({\n  displayMode: true,\n  fleqn: true\n})\n)}\n\nfunction _spec_json(){return(\n`\n{\n  \"config\": {\n    \"view\": {\n      \"continuousWidth\": 300,\n      \"continuousHeight\": 300\n    },\n    \"title\": {\n      \"anchor\": \"middle\"\n    }\n  },\n  \"vconcat\": [\n    {\n      \"layer\": [\n        {\n          \"mark\": {\n            \"type\": \"bar\",\n            \"opacity\": 0.5\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"interpolate\": \"lab\",\n                \"range\": [\n                  \"red\",\n                  \"red\",\n                  \"#bbbbbb\",\n                  \"green\",\n                  \"green\"\n                ]\n              },\n              \"title\": \"Match weight\",\n              \"type\": \"quantitative\"\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"rule\",\n            \"color\": \"#FFAAAA\"\n          },\n          \"encoding\": {\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"text\",\n            \"baseline\": \"middle\",\n            \"fontSize\": 16,\n            \"fontWeight\": \"bold\"\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"range\": [\n                  \"#8B0000\",\n                  \"#8B0000\",\n                  \"#444444\",\n                  \"#006400\",\n                  \"#006400\"\n                ]\n              },\n              \"type\": \"quantitative\"\n            },\n            \"opacity\": {\n              \"condition\": {\n                \"param\": \"param_7\",\n                \"value\": 1,\n                \"empty\": false\n              },\n              \"value\": 0\n            },\n            \"text\": {\n              \"field\": \"mw_fmt\",\n              \"type\": \"quantitative\"\n            },\n            \"x\": {\n              \"axis\": {\n                \"labelExpr\": \"datum.value\",\n                \"title\": \"Partial Match Weight\"\n              },\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          }\n        },\n        {\n          \"mark\": {\n            \"type\": \"point\"\n          },\n          \"encoding\": {\n            \"opacity\": {\n              \"value\": 0\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"name\": \"view_58\"\n        }\n      ],\n      \"height\": 30,\n      \"resolve\": {\n        \"scale\": {\n          \"color\": \"independent\"\n        }\n      },\n      \"width\": 800\n    },\n    {\n      \"layer\": [\n        {\n          \"mark\": {\n            \"type\": \"bar\",\n            \"opacity\": 0.5\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"interpolate\": \"lab\",\n                \"range\": [\n                  \"red\",\n                  \"red\",\n                  \"#bbbbbb\",\n                  \"green\",\n                  \"green\"\n                ]\n              },\n              \"title\": \"Match weight\",\n              \"type\": \"quantitative\"\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"rule\",\n            \"color\": \"#FFAAAA\"\n          },\n          \"encoding\": {\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"text\",\n            \"baseline\": \"middle\",\n            \"fontSize\": 16,\n            \"fontWeight\": \"bold\"\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"range\": [\n                  \"#8B0000\",\n                  \"#8B0000\",\n                  \"#444444\",\n                  \"#006400\",\n                  \"#006400\"\n                ]\n              },\n              \"type\": \"quantitative\"\n            },\n            \"opacity\": {\n              \"condition\": {\n                \"param\": \"param_7\",\n                \"value\": 1,\n                \"empty\": false\n              },\n              \"value\": 0\n            },\n            \"text\": {\n              \"field\": \"bf_fmt\",\n              \"type\": \"nominal\"\n            },\n            \"x\": {\n              \"axis\": {\n                \"labelExpr\": \"if(pow(2, datum.value) >=1, pow(2, datum.value), '1/' + (1/pow(2, datum.value)))\",\n                \"title\": \"Bayes Factor (odds)\"\n              },\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          }\n        },\n        {\n          \"mark\": {\n            \"type\": \"point\"\n          },\n          \"encoding\": {\n            \"opacity\": {\n              \"value\": 0\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"name\": \"view_59\"\n        }\n      ],\n      \"height\": 30,\n      \"resolve\": {\n        \"scale\": {\n          \"color\": \"independent\"\n        }\n      },\n      \"width\": 800\n    },\n    {\n      \"layer\": [\n        {\n          \"mark\": {\n            \"type\": \"bar\",\n            \"opacity\": 0.5\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"interpolate\": \"lab\",\n                \"range\": [\n                  \"red\",\n                  \"red\",\n                  \"#bbbbbb\",\n                  \"green\",\n                  \"green\"\n                ]\n              },\n              \"title\": \"Match weight\",\n              \"type\": \"quantitative\"\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"rule\",\n            \"color\": \"#FFAAAA\"\n          },\n          \"encoding\": {\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"text\",\n            \"baseline\": \"middle\",\n            \"fontSize\": 16,\n            \"fontWeight\": \"bold\"\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"range\": [\n                  \"#8B0000\",\n                  \"#8B0000\",\n                  \"#444444\",\n                  \"#006400\",\n                  \"#006400\"\n                ]\n              },\n              \"type\": \"quantitative\"\n            },\n            \"opacity\": {\n              \"condition\": {\n                \"param\": \"param_7\",\n                \"value\": 1,\n                \"empty\": false\n              },\n              \"value\": 0\n            },\n            \"text\": {\n              \"field\": \"prob_fmt\",\n              \"type\": \"nominal\"\n            },\n            \"x\": {\n              \"axis\": {\n                \"labelExpr\": \"format(pow(2, datum.value)/(1+ pow(2, datum.value)), ',.3f')\",\n                \"title\": \"Probability (assuming a prior of 50%)\"\n              },\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          }\n        },\n        {\n          \"mark\": {\n            \"type\": \"point\"\n          },\n          \"encoding\": {\n            \"opacity\": {\n              \"value\": 0\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"name\": \"view_57\"\n        }\n      ],\n      \"height\": 30,\n      \"resolve\": {\n        \"scale\": {\n          \"color\": \"independent\"\n        }\n      },\n      \"width\": 800\n    },\n    {\n      \"layer\": [\n        {\n          \"mark\": {\n            \"type\": \"bar\",\n            \"opacity\": 0.5\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"interpolate\": \"lab\",\n                \"range\": [\n                  \"red\",\n                  \"red\",\n                  \"#bbbbbb\",\n                  \"green\",\n                  \"green\"\n                ]\n              },\n              \"title\": \"Match weight\",\n              \"type\": \"quantitative\"\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"rule\",\n            \"color\": \"#FFAAAA\"\n          },\n          \"encoding\": {\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"transform\": [\n            {\n              \"filter\": {\n                \"param\": \"param_7\",\n                \"empty\": false\n              }\n            }\n          ]\n        },\n        {\n          \"mark\": {\n            \"type\": \"text\",\n            \"baseline\": \"middle\",\n            \"fontSize\": 16,\n            \"fontWeight\": \"bold\"\n          },\n          \"encoding\": {\n            \"color\": {\n              \"field\": \"mw\",\n              \"legend\": null,\n              \"scale\": {\n                \"domain\": [\n                  -100,\n                  -10,\n                  0,\n                  10,\n                  100\n                ],\n                \"range\": [\n                  \"#8B0000\",\n                  \"#8B0000\",\n                  \"#444444\",\n                  \"#006400\",\n                  \"#006400\"\n                ]\n              },\n              \"type\": \"quantitative\"\n            },\n            \"opacity\": {\n              \"condition\": {\n                \"param\": \"param_7\",\n                \"value\": 1,\n                \"empty\": false\n              },\n              \"value\": 0\n            },\n            \"text\": {\n              \"field\": \"int_fmt\",\n              \"type\": \"nominal\"\n            },\n            \"x\": {\n              \"axis\": {\n                \"labelExpr\": \"if(pow(2, datum.value) >=1, pow(2, datum.value), (1/pow(2, datum.value)))\",\n                \"title\": \"\\u2b05\\ufe0f  times less likely                    Intuitive interpretation                    times more likely  \\u27a1\\ufe0f\"\n              },\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          }\n        },\n        {\n          \"mark\": {\n            \"type\": \"point\"\n          },\n          \"encoding\": {\n            \"opacity\": {\n              \"value\": 0\n            },\n            \"x\": {\n              \"field\": \"mw\",\n              \"type\": \"quantitative\"\n            }\n          },\n          \"name\": \"view_60\"\n        }\n      ],\n      \"height\": 30,\n      \"resolve\": {\n        \"scale\": {\n          \"color\": \"independent\"\n        }\n      },\n      \"width\": 800\n    }\n  ],\n  \"data\": {\n    \"name\": \"mydata\"\n  },\n  \"params\": [\n    {\n      \"name\": \"param_7\",\n      \"select\": {\n        \"type\": \"point\",\n        \"fields\": [\n          \"mw\"\n        ],\n        \"nearest\": true,\n        \"on\": \"mouseover\"\n      },\n      \"value\": [\n        {\n          \"mw\": 0\n        }\n      ],\n      \"views\": [\n        \"view_58\",\n        \"view_59\",\n        \"view_57\",\n        \"view_60\"\n      ]\n    }\n  ],\n  \"title\": \"Correspondence between probability, match weight, and Bayes factor\",\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\",\n  \"datasets\": {\n    \"mydata\": []\n  }\n}`\n)}\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], _1);\n  main.variable(observer(\"spec\")).define(\"spec\", [\"spec_json\",\"chart_data\",\"width\"], _spec);\n  main.variable(observer(\"viewof chart\")).define(\"viewof chart\", [\"embed\",\"spec\"], _chart);\n  main.variable(observer(\"chart\")).define(\"chart\", [\"Generators\", \"viewof chart\"], (G, _) => G.input(_));\n  main.variable(observer(\"mw_1\")).define(\"mw_1\", [\"roundToSignificantFigures\",\"selected_val\",\"html\",\"tex\"], _mw_1);\n  main.variable(observer(\"bf_1\")).define(\"bf_1\", [\"roundToSignificantFigures\",\"calcBayesFactorFromPartialMatchWeight\",\"selected_val\",\"calcProbabilityFromPartialMatchWeight\",\"html\",\"tex\"], _bf_1);\n  main.variable(observer(\"p_1\")).define(\"p_1\", [\"calcProbabilityFromPartialMatchWeight\",\"selected_val\",\"roundToSignificantFigures\",\"html\",\"tex\"], _p_1);\n  main.variable(observer()).define([\"html\",\"tex\"], _8);\n  main.variable(observer(\"p_2\")).define(\"p_2\", [\"calcProbabilityFromPartialMatchWeight\",\"selected_val\",\"html\",\"tex\"], _p_2);\n  main.variable(observer(\"bf_2\")).define(\"bf_2\", [\"calcProbabilityFromPartialMatchWeight\",\"selected_val\",\"roundToSignificantFigures\",\"calcBayesFactorFromProbability\",\"html\",\"tex\"], _bf_2);\n  main.variable(observer(\"mw_2\")).define(\"mw_2\", [\"calcBayesFactorFromPartialMatchWeight\",\"selected_val\",\"roundToSignificantFigures\",\"calcPartialMatchWeightFromBayesFactor\",\"html\",\"tex\"], _mw_2);\n  main.variable(observer(\"viewof prior_probabability\")).define(\"viewof prior_probabability\", [\"Inputs\"], _prior_probabability);\n  main.variable(observer(\"prior_probabability\")).define(\"prior_probabability\", [\"Generators\", \"viewof prior_probabability\"], (G, _) => G.input(_));\n  main.variable(observer(\"viewof max_match_weight\")).define(\"viewof max_match_weight\", [\"Inputs\"], _max_match_weight);\n  main.variable(observer(\"max_match_weight\")).define(\"max_match_weight\", [\"Generators\", \"viewof max_match_weight\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"calcBayesFactorFromProbability\",\"prior_probabability\",\"calcPartialMatchWeightFromBayesFactor\",\"selected_val\",\"calcProbabilityFromPartialMatchWeight\",\"roundToSignificantFigures\",\"html\",\"tex\"], _15);\n  main.variable(observer(\"calcBayesFactorFromPartialMatchWeight\")).define(\"calcBayesFactorFromPartialMatchWeight\", _calcBayesFactorFromPartialMatchWeight);\n  main.variable(observer(\"calcProbabilityFromPartialMatchWeight\")).define(\"calcProbabilityFromPartialMatchWeight\", _calcProbabilityFromPartialMatchWeight);\n  main.variable(observer(\"computeProbabilityFromPartialMatchWeight\")).define(\"computeProbabilityFromPartialMatchWeight\", _computeProbabilityFromPartialMatchWeight);\n  main.variable(observer(\"calcPartialMatchWeightFromBayesFactor\")).define(\"calcPartialMatchWeightFromBayesFactor\", _calcPartialMatchWeightFromBayesFactor);\n  main.variable(observer(\"calcBayesFactorFromProbability\")).define(\"calcBayesFactorFromProbability\", _calcBayesFactorFromProbability);\n  main.variable(observer(\"roundToSignificantFigures\")).define(\"roundToSignificantFigures\", _roundToSignificantFigures);\n  main.variable(observer(\"embed\")).define(\"embed\", [\"require\"], _embed);\n  main.variable(observer(\"observed_param\")).define(\"observed_param\", [\"observe_chart_data\",\"chart\"], _observed_param);\n  main.variable(observer(\"selected_val\")).define(\"selected_val\", [\"observed_param\"], _selected_val);\n  main.variable(observer(\"observe_chart_data\")).define(\"observe_chart_data\", [\"Generators\"], _observe_chart_data);\n  main.variable(observer(\"probToBayesFactor\")).define(\"probToBayesFactor\", _probToBayesFactor);\n  main.variable(observer(\"probToMatchWeight\")).define(\"probToMatchWeight\", [\"probToBayesFactor\"], _probToMatchWeight);\n  main.variable(observer(\"matchWeightToBayesFactor\")).define(\"matchWeightToBayesFactor\", _matchWeightToBayesFactor);\n  main.variable(observer(\"bayesFactorToProb\")).define(\"bayesFactorToProb\", _bayesFactorToProb);\n  main.variable(observer(\"formatBf\")).define(\"formatBf\", _formatBf);\n  main.variable(observer(\"chart_data\")).define(\"chart_data\", [\"max_match_weight\",\"bayesFactorToProb\",\"matchWeightToBayesFactor\",\"probToBayesFactor\",\"probToMatchWeight\",\"formatBf\"], _chart_data);\n  main.variable(observer(\"texd\")).define(\"texd\", [\"tex\"], _texd);\n  main.variable(observer(\"spec_json\")).define(\"spec_json\", _spec_json);\n  return main;\n}\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport {MDXLayoutWide as MDXLayout} from \"../components/MDXLayout\";\nimport notebook from '@robinl/interactive-bayes-factor-probability-and-match-weight';\nimport ProbHomeNav from \"../components/ProbHomeNav\";\nimport {ObservableCell, WithObservableProvider} from '../components/ObservableCells';\nimport InteractiveCallout from \"../components/InteractiveCallout\";\nimport {SEO} from \"../components/SEO\";\nimport {Link} from 'gatsby';\nexport const Head = props => React.createElement(SEO, {\n  frontmatter: props.pageContext.frontmatter\n});\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    code: \"code\",\n    a: \"a\",\n    h2: \"h2\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(ProbHomeNav), \"\\n\", React.createElement(_components.h1, null, \"The relationship between Partial Match Weights, Bayes Factors, and Probabilities\"), \"\\n\", React.createElement(_components.p, null, \"This chart shows how the partial match weights in a Splink \", React.createElement(_components.code, null, \"linker.match_weights_chart\"), \" (see \", React.createElement(_components.a, {\n    href: \"https://moj-analytical-services.github.io/splink/charts/match_weights_chart.html\"\n  }, \"here\"), \") are related to Bayes Factors and probabilities.\"), \"\\n\", React.createElement(InteractiveCallout, null, \" Hover over the chart below to select a match weight. \"), \"\\n\", React.createElement(WithObservableProvider, {\n    notebook: notebook\n  }, React.createElement(ObservableCell, {\n    cellName: \"viewof max_match_weight\"\n  }), React.createElement(ObservableCell, {\n    cellName: \"viewof chart\"\n  }), React.createElement(\"br\"), React.createElement(_components.p, null, \"Caveat: the 'probability' is really only defined if a prior exists.  For the above chart, the prior is assumed to be 50%.\"), React.createElement(\"br\"), React.createElement(_components.h2, null, \"Conversion of partial match weight to probability\"), React.createElement(\"br\"), React.createElement(ObservableCell, {\n    cellName: \"mw_1\"\n  }), React.createElement(\"br\"), React.createElement(ObservableCell, {\n    cellName: \"bf_1\"\n  }), React.createElement(\"br\"), React.createElement(ObservableCell, {\n    cellName: \"p_1\"\n  }), React.createElement(\"br\"), React.createElement(_components.h2, null, \"Conversion of probability to partial match weight\"), React.createElement(\"br\"), React.createElement(ObservableCell, {\n    cellName: \"p_2\"\n  }), React.createElement(\"br\"), React.createElement(ObservableCell, {\n    cellName: \"bf_2\"\n  }), React.createElement(\"br\"), React.createElement(ObservableCell, {\n    cellName: \"mw_2\"\n  }), React.createElement(\"br\")), \"\\n\", React.createElement(_components.h2, null, \"Additional resources\"), \"\\n\", React.createElement(_components.p, null, \"Also check the \", React.createElement(Link, {\n    to: \"/match_weight_calculator/\"\n  }, \"match weight calculator\"), \" to more precisely calculate match weights, probabilities, and Bayes factors.\"), \"\\n\", React.createElement(ProbHomeNav));\n}\nfunction MDXContent(props = {}) {\n  return React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props));\n}\nexport default MDXContent;\n","import React from 'react';\nimport { FaMagic } from 'react-icons/fa';\n\nconst InteractiveCallout = ({ children }) => (\n    <div\n        className=\"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 py-2 px-4 mb-4\"\n        role=\"alert\"\n    >\n        <div className=\"flex\">\n            <div>\n                <FaMagic className=\"text-yellow-400 mr-4\" />\n            </div>\n            <div>\n                <p className=\"mb-0\">{children}</p>\n            </div>\n        </div>\n    </div>\n);\n\nexport default InteractiveCallout;\n","import React, {\n    useRef,\n    useEffect,\n    createContext,\n    useContext,\n    useState,\n} from 'react';\nimport { Runtime, Inspector, Library } from '@observablehq/runtime';\n\nconst ObservableRuntimeContext = createContext(null);\n\nconst mountId = 'mdx-container-div';\n\nconst stdlib = new Library();\n\nconst library = Object.assign({}, stdlib, { width: width_cells });\n\nfunction width_cells() {\n    return stdlib.Generators.observe(notify => {\n        let width1 = notify(document.getElementById(mountId).clientWidth);\n        function resized() {\n            let width2 = document.getElementById(mountId).clientWidth;\n            if (width2 !== width1) notify((width1 = width2));\n        }\n\n        window.addEventListener('resize', resized);\n        return () => window.removeEventListener('resize', resized);\n    });\n}\n\nexport function ObservableProvider({ notebook, children }) {\n    const [sharedRefs, setSharedRefs] = useState({});\n    const runtime = new Runtime(\n        Object.assign({}, new Library(), { width: width_cells })\n    );\n\n    useEffect(() => {\n        runtime.module(notebook, name => {\n            if (sharedRefs[name]) {\n                return new Inspector(sharedRefs[name]);\n            }\n        });\n        return () => runtime.dispose();\n    }, [runtime, sharedRefs, notebook]);\n\n    return (\n        <ObservableRuntimeContext.Provider value={{ setSharedRefs }}>\n            {children}\n        </ObservableRuntimeContext.Provider>\n    );\n}\n\nexport function ObservableCell({ cellName, styles, className }) {\n    const ref = useRef(null);\n    const { setSharedRefs } = useContext(ObservableRuntimeContext);\n\n    useEffect(() => {\n        setSharedRefs(prevRefs => ({ ...prevRefs, [cellName]: ref.current }));\n    }, [cellName, setSharedRefs]);\n\n    return <div ref={ref} style={styles} className={className} />;\n}\n\nexport function WithObservableProvider({ notebook, children }) {\n    return (\n        <ObservableProvider notebook={notebook}>{children}</ObservableProvider>\n    );\n}\n","import React from 'react';\nimport { Link } from 'gatsby';\n\nconst ProbHomeNav = () => {\n    return (\n        <div className=\"bg-gray-100 p-2 mt-2 mb-2 italic rounded-md text-gray-600 text-xs\">\n            <div className=\"flex justify-center items-center\">\n                <div className=\"text-center\">\n                    <span>\n                        This article is part of the&nbsp;\n                        <Link\n                            to=\"/probabilistic_linkage\"\n                            className=\"text-blue-500 hover:underline\"\n                        >\n                            probabilistic linkage training materials\n                        </Link>\n                    </span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProbHomeNav;\n","import { graphql, useStaticQuery } from 'gatsby';\n\nexport const useSiteMetadata = () => {\n    const data = useStaticQuery(graphql`\n        query {\n            site {\n                siteMetadata {\n                    title\n                    description\n                    twitterUsername\n                    image\n                    siteUrl\n                }\n            }\n        }\n    `);\n\n    return data.site.siteMetadata;\n};\n","import React from 'react';\nimport { useSiteMetadata } from '../hooks/use-site-metadata';\n\nexport const SEO = ({ frontmatter }) => {\n    const {\n        title: defaultTitle,\n        description: defaultDescription,\n        image,\n        siteUrl,\n        twitterUsername,\n    } = useSiteMetadata();\n\n    const seo = {\n        title: frontmatter?.title || defaultTitle,\n        description: frontmatter?.description || defaultDescription,\n        image: `${siteUrl}${frontmatter?.image || image}`,\n        url: `${siteUrl}${frontmatter?.pathname || ``}`,\n        twitterUsername,\n        ...frontmatter,\n    };\n\n    const stylesheetLink = frontmatter?.stylesheet;\n\n    return (\n        <>\n            <title>{seo.title}</title>\n            <meta name=\"description\" content={seo.description} />\n            <meta name=\"image\" content={seo.image} />\n            {stylesheetLink && (\n                <link\n                    rel=\"stylesheet\"\n                    type=\"text/css\"\n                    href={`/styles/${stylesheetLink}`}\n                />\n            )}\n        </>\n    );\n};\n"],"names":["_1","md","_spec","spec_json","chart_data","width","spec_parsed","JSON","parse","vconcat","forEach","obj","hasOwnProperty","_chart","embed","spec","_mw_1","roundToSignificantFigures","selected_val","html","tex","_bf_1","calcBayesFactorFromPartialMatchWeight","calcProbabilityFromPartialMatchWeight","bayes_factor","toFixed","_p_1","p_val","partial_match_weight","_8","_p_2","_bf_2","calcBayesFactorFromProbability","p_val_rounded","_mw_2","calcPartialMatchWeightFromBayesFactor","_prior_probabability","Inputs","range","label","_max_match_weight","step","value","_15","prior_probabability","prior_bayes_factor","prior_partial_match_weight","posterior_match_weight","posterior_probability","_calcBayesFactorFromPartialMatchWeight","Math","pow","_calcProbabilityFromPartialMatchWeight","_computeProbabilityFromPartialMatchWeight","logOdds","_calcPartialMatchWeightFromBayesFactor","K","log2","_calcBayesFactorFromProbability","p","_roundToSignificantFigures","num","sigFigs","magnitude","floor","log10","abs","scale","round","_embed","require","_observed_param","observe_chart_data","chart","_selected_val","observed_param","_observe_chart_data","Generators","signal_name","observe","notify","signaled","name","addSignalListener","signal","removeSignalListener","_probToBayesFactor","prob","Infinity","_probToMatchWeight","probToBayesFactor","bayesFactor","matchWeight","_matchWeightToBayesFactor","weight","_bayesFactorToProb","bf","_formatBf","mw","toLocaleString","undefined","maximumFractionDigits","replace","absMw","minFractionDigits","minimumFractionDigits","_chart_data","max_match_weight","bayesFactorToProb","matchWeightToBayesFactor","probToMatchWeight","formatBf","start","end","data","Array","from","length","_","i","map","x","d","probFmt","bfFmt","mwFmt","intFmt","bfValue","prob_fmt","bf_fmt","mw_fmt","int_fmt","_texd","options","displayMode","fleqn","_spec_json","runtime","observer","main","module","variable","define","G","input","Head","props","React","SEO","frontmatter","pageContext","_createMdxContent","_components","Object","assign","h1","code","a","h2","_provideComponents","components","ProbHomeNav","href","InteractiveCallout","WithObservableProvider","notebook","ObservableCell","cellName","Link","to","MDXLayout","_ref","children","className","role","FaMagic","ObservableRuntimeContext","createContext","mountId","stdlib","Library","width_cells","width1","document","getElementById","clientWidth","resized","width2","window","addEventListener","removeEventListener","ObservableProvider","sharedRefs","setSharedRefs","useState","Runtime","useEffect","Inspector","dispose","Provider","_ref2","styles","ref","useRef","useContext","prevRefs","current","style","_ref3","title","defaultTitle","description","defaultDescription","image","siteUrl","twitterUsername","useStaticQuery","site","siteMetadata","seo","url","pathname","stylesheetLink","stylesheet","content","rel","type"],"sourceRoot":""}